webpackJsonp([1],{"+cgv":function(e,t){},"04SS":function(e,t){},"1JSW":function(e,t){},"2oDb":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzODMgMjIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzODMgMjIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4zO30KCS5zdDF7ZmlsbDojRTdFRkVFO30KCS5zdDJ7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHRpdGxlPkFzc2V0IDE8L3RpdGxlPgo8Zz4KCTxnIGlkPSJMYXllcl80Ij4KCQk8ZyBpZD0iR3JvdXBfMSIgY2xhc3M9InN0MCI+CgkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0wLDE1Ni4zVjI5LjhjMjUuMi0xMS40LDU0LjgtNy4yLDc1LjYsMTAuOWM1OS42LTU2LjIsMTU0LTU0LDIxMC44LDVjOC40LDguNywxNS43LDE4LjQsMjEuNiwyOC44bDAsMAoJCQkJYzI5LjEtOS40LDYwLjksMC44LDc5LDI1LjN2ODIuNCIvPgoJCTwvZz4KCQk8ZyBpZD0iR3JvdXBfMiI+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0zMzcuOCwxNDIuOGMxMy43LTEwLjQsMzEuNy0xMy40LDQ4LjItOFYyMjBIMFY3My4xYzU1LjktMjkuNiwxMjUuMy0xMy4zLDE2MS44LDM4bDAsMAoJCQkJYzQwLjMtNDIuNCwxMDcuOC00NC41LDE1MC44LTQuNUMzMjMuNCwxMTYuOCwzMzIsMTI5LjEsMzM3LjgsMTQyLjhMMzM3LjgsMTQyLjh6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="},"3f40":function(e,t){},"4qOc":function(e,t){},"5Wm7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImVtb2ppIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNzIgNzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDcyIDcyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiM4ODk5QTk7c3Ryb2tlLXdpZHRoOjQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MntmaWxsOiM4ODk5QTk7fQo8L3N0eWxlPgo8Zz4KCTxnIGlkPSJfeEQ4M0RfX3hERTAwXyI+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTYyLjcsMjgiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIuMiwyOCIvPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMi4yLDI4Ii8+CgkJPGc+CgkJCTxjaXJjbGUgY2xhc3M9InN0MSIgY3g9IjM2IiBjeT0iMzYiIHI9IjMzIi8+CgkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMS45LDMwLjljMCwwLDAtNS42LDUuMy01LjZzNS4zLDUuNiw1LjMsNS42Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zOS45LDMwLjljMCwwLDAtNS42LDUuMy01LjZzNS4zLDUuNiw1LjMsNS42Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0zNiwzOC41SDIxLjhjMCwwLTEuMSwwLTEuMSwxLjFTMjIuNCw1Ni4xLDM2LDU2LjFzMTUuMy0xNS40LDE1LjMtMTYuNXMtMS4xLTEuMS0xLjEtMS4xSDM2eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},"5hzL":function(e,t){},BA8d:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA3MiA3MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzIgNzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDF7ZmlsbDojODg5OUE5O30KCS5zdDJ7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGc+Cgk8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIzNiIgY3k9IjM2IiByPSIzMyIvPgoJPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjI3LjQiIGN5PSIyOC40IiByeD0iNCIgcnk9IjUuMSIvPgoJPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjQ1LjYiIGN5PSIyOC40IiByeD0iNCIgcnk9IjUuMSIvPgoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTIxLjksNDNjMCwwLDQuNiw3LjIsMTQuMSw3LjJjOS42LDAsMTUuMi03LjIsMTUuMi03LjIiLz4KPC9nPgo8L3N2Zz4K"},EKB1:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImVtb2ppIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNzIgNzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDcyIDcyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6Izg4OTlBOTtzdHJva2Utd2lkdGg6NDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qxe2ZpbGw6Izg4OTlBOTt9Cgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6Izg4OTlBOTtzdHJva2Utd2lkdGg6NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxnPgoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMzYuNyIgY3k9IjM2IiByPSIzMyIvPgoJPGc+CgkJPGc+CgkJCTxjaXJjbGUgY2xhc3M9InN0MSIgY3g9IjI3LjUiIGN5PSIyOC40IiByPSI1LjEiLz4KCQkJPGNpcmNsZSBjbGFzcz0ic3QxIiBjeD0iNDUuNyIgY3k9IjI4LjQiIHI9IjUuMSIvPgoJCTwvZz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMjYuMyw0OS4zYzAsMCw0LjEtMy4yLDEwLjEtMy4yczEwLjQsMy4yLDEwLjQsMy4yIi8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg=="},ExNR:function(e,t){},FXvd:function(e,t){},FXyY:function(e,t){},MQi7:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("Xxa5"),a=n.n(s),o=n("exGp"),r=n.n(o),d=n("kxiW"),l=n.n(d),c=n("mtWM"),u=n.n(c),v=u.a.create({baseURL:"https://openlab.ncl.ac.uk/dokku/tcv2-api/api/",json:!0}),m={execute:function(e,t,n){var i=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";return r()(a.a.mark(function o(){var r;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!l.a.auth().currentUser){i.next=6;break}return i.next=3,l.a.auth().currentUser.getIdToken(!0);case 3:i.t0=i.sent,i.next=7;break;case 6:i.t0=null;case 7:return r=i.t0,i.abrupt("return",v({method:e,url:t,data:n,headers:{"Content-Type":s,"X-Firebase-ID-Token":r}}).then(function(e){return e.data}).catch(function(e){return console.log(e.response),{error:!0,errorMessage:e.response}}));case 9:case"end":return i.stop()}},o,i)}))()},checkUser:function(e){return this.execute("get","/checkuser?email="+encodeURIComponent(e))},login:function(e){return this.execute("post","/login",e)},signup:function(e){return this.execute("post","/signup",e)},getUserEvents:function(e){return this.execute("get","/userEvents/"+e)},getEvent:function(e){return this.execute("get","/event/"+e)},getSessionEvent:function(e){return this.execute("get","/session/"+e)},getSessionId:function(e){return this.execute("get","/joinsession/"+e)},getSessionRatings:function(e){return this.execute("get","/sessionpublicdata/"+e)},getFeedbackHistory:function(){return this.execute("get","/feedbackHistory/")},getFeedbackItem:function(e){return this.execute("get","/feedback/"+e)},submitFeedback:function(e){return this.execute("post","/feedback",e)},submitMediaFeedback:function(e){return this.execute("post","/mediafeedback",e)},getSessions:function(e){return this.execute("get","/sessions/"+e)},getVisualization:function(e){return this.execute("get","/visualization/"+e)},getSession:function(e,t){return this.execute("get","/workshops/"+e+"/"+t)},getSignedS3:function(e,t,n){return e=encodeURIComponent(e),t=encodeURIComponent(t),n=encodeURIComponent(n),this.execute("get","/s3_upload?filename="+e+"&filetype="+t+"&uploadtype="+n)},finishSession:function(e,t){return this.execute("post","/workshops/"+e+"/"+t+"/finish")},addRecording:function(e){return this.execute("post","/recordings",e)},updateWorkshop:function(e,t){return this.execute("put","/workshops/"+e,t)},getAdminEvents:function(e,t){return this.execute("get","/admin/event/",t)},getAdminEventDetails:function(e,t){return this.execute("get","/admin/eventdetails/"+e,t)},getAdminEventFeedback:function(e,t,n,i){return this.execute("get","/admin/eventfeedback/"+e+"?from="+encodeURIComponent(t)+"&to="+encodeURIComponent(n),i)},createEvent:function(e){return this.execute("post","/admin/event/",e)},updateEvent:function(e){return this.execute("put","/admin/event/",e)},createSession:function(e){return this.execute("post","/admin/session/",e)},updateSession:function(e){return this.execute("put","/admin/session/",e)},uploadFile:function(e,t){var n=this;return r()(a.a.mark(function i(){var s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={headers:{"Content-Type":t.type}},n.abrupt("return",u.a.put(e,t,s).then(function(e){return console.log(e.data),e.data}).catch(function(e){return console.log(e.response),{error:!0,errorMessage:e.response}}));case 2:case"end":return n.stop()}},i,n)}))()}},g={state:{currentUser:null,userRole:null,initLoginCheck:!1},updateUser:function(e){var t=this;this.state.currentUser=e,e&&m.login({userId:e.uid,name:e.displayName,email:e.email}).then(function(n){e.userId=n[0].user_id,e.userRole=n[0].user_role,t.updateRole(e.userRole)})},updateRole:function(e){this.state.userRole=e}},p={name:"Footer",data:function(){return{storeState:g.state}},computed:{userRole:function(){return console.log("user role: "+this.storeState.userRole),g.state.userRole}},watch:{userRole:function(e,t){console.log("user role: "+e),e&&(this.user=e)}},methods:{join:function(e){var t=this;e=window.prompt("Please enter join code"),console.log(e),e&&m.getSessionId(e).then(function(e){e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):(t.error=!0,t.$router.replace({name:"home"}))})}}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return this.storeState.currentUser?t("div",{attrs:{id:"footer"}},[t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/home"}},[t("font-awesome-icon",{attrs:{icon:"home"}})],1)],1),t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/history"}},[t("font-awesome-icon",{attrs:{icon:"history"}})],1)],1),t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/settings"}},[t("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1),"admin"==this.userRole?t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/admin/"}},[t("font-awesome-icon",{attrs:{icon:"users-cog"}})],1)],1):this._e()]):this._e()},staticRenderFns:[]};var f=n("VU/8")(p,h,!1,function(e){n("04SS")},"data-v-7aa0b780",null).exports,b={name:"Header",data:function(){return{storeState:g.state,role:null}},props:["noback"],computed:{userRole:function(){return console.log("user role: "+this.storeState.userRole),g.state.userRole}},watch:{userRole:function(e,t){console.log("user role: "+e),e&&(this.user=e)}},methods:{goBack:function(){this.$router.go(-1)},join:function(e){var t=this;e=window.prompt("Please enter join code"),console.log(e),e&&m.getSessionId(e).then(function(e){e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):(t.error=!0,t.$router.replace({name:"home"}))})}}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"header"}},[t("div",[this.noback?this._e():t("a",{attrs:{id:"back"},on:{click:this.goBack}},[t("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),t("div",{attrs:{id:"logo"}},[this._v("thoughtcloud")]),t("div",{attrs:{id:"link-logo"}},[t("router-link",{attrs:{to:"/home"}},[this._v("thoughtcloud")])],1)]),t("div",{attrs:{id:"nav-links"}},[t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/history"}},[t("font-awesome-icon",{attrs:{icon:"history"}})],1)],1),t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/settings"}},[t("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1),"admin"==this.userRole?t("div",{attrs:{id:"fc"}},[t("router-link",{attrs:{to:"/admin/"}},[t("font-awesome-icon",{attrs:{icon:"users-cog"}})],1)],1):this._e()])])},staticRenderFns:[]};var w=n("VU/8")(b,I,!1,function(e){n("W1e9")},"data-v-25772267",null).exports,k={name:"App",components:{Header:w,Footer:f},data:function(){return{btTimer:null,loggedIn:!1,initCheck:!1,storeState:g.state}},methods:{startBluetoothScan:function(){var e=this;console.log("starting scan..."),window.evothings.eddystone.startScan(function(t){console.log(new Date+" - Found beacon: "+t.url),window.evothings.eddystone.stopScan(),e.btTimer&&clearTimeout(e.btTimer),e.btTimer=setTimeout(e.startBluetoothScan,2e4)},function(e){console.log("Eddystone scan error: "+e)})}},mounted:function(){var e=this;if(l.a.auth().onAuthStateChanged(function(t){t?(console.log("already logged in"),e.loggedIn=!0,m.login({userId:t.uid,name:t.displayName,email:t.email}).then(function(e){console.log(e),t.userId=e[0].user_id,t.userRole=e[0].user_role,g.updateUser(t),g.updateRole(t.userRole)}),console.log("user"),console.log(t)):(console.log("not logged in"),e.loggedIn=!1,g.updateUser(null)),e.initCheck=!0}),console.log("firebase check"),l.a.auth().isSignInWithEmailLink(window.location.href)){var t=window.localStorage.getItem("emailForSignIn");t||(t=window.prompt("Please provide your email for confirmation")),l.a.auth().signInWithEmailLink(t,window.location.href).then(function(e){console.log("result signin"),console.log(e),window.localStorage.removeItem("emailForSignIn"),e.user&&g.updateUser(e.user)}).catch(function(e){console.log(e)})}document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("app ready");case 1:case"end":return e.stop()}},t,e)})))}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[this.initCheck?t("router-view",{staticStyle:{margin:"0 auto"}}):this._e()],1),this.loggedIn?t("Footer"):this._e()],1)},staticRenderFns:[]};var S=n("VU/8")(k,y,!1,function(e){n("Rmcz")},null,null).exports,_=n("//Fk"),C=n.n(_),j=n("/ocq"),M={render:function(){var e=this.$createElement,t=this._self._c||e;return this.loading?t("div",{staticClass:"la-ball-clip-rotate la-2x",staticStyle:{color:"#79bbb5",margin:"0 auto"}},[t("div")]):this._e()},staticRenderFns:[]};var x=n("VU/8")({name:"Loader",props:["loading"]},M,!1,function(e){n("iZfe")},"data-v-0256dff1",null).exports,N={name:"CloudTemplate",props:["back","title"],methods:{goBack:function(){this.$router.go(-1)}},components:{Header:w}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main"}},[e.back?i("div",{attrs:{id:"back-header"}},[i("a",{attrs:{id:"back"},on:{click:e.goBack}},[i("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1)]):e._e(),i("Header",{attrs:{noback:!e.back}}),i("div",{attrs:{id:"cloud-head"}},[i("img",{attrs:{src:n("2oDb")}}),i("div",{attrs:{id:"head-content"}},[e._v(e._s(e.title))])]),i("div",{attrs:{id:"cloud-body"}},[i("div",{attrs:{id:"content"}},[i("div",{attrs:{id:"content-header"}},[i("div",{attrs:{id:"logo"}},[e._v(e._s(e.title))])]),i("div",{attrs:{id:"answer-buttons"}},[e._t("content")],2)])])],1)},staticRenderFns:[]};var E=n("VU/8")(N,D,!1,function(e){n("RL5M"),n("X/lO")},"data-v-18cc0d26",null).exports,L={name:"Login",components:{Loader:x,CloudTemplate:E},methods:{login:function(){var e=this,t={url:"http://openlab.ncl.ac.uk/dokku/thoughtcloud",handleCodeInApp:!0,iOS:{bundleId:"uk.ac.ncl.openlab.thoughtcloud"},android:{packageName:"uk.ac.ncl.openlab.thoughtcloud",installApp:!1,minimumVersion:"12"},dynamicLinkDomain:"thoughtcloud.page.link"},n=this.email;m.checkUser(this.email).then(function(i){console.log(i),i?i.exists?l.a.auth().sendSignInLinkToEmail(n,t).then(function(){window.localStorage.setItem("emailForSignIn",n),e.emailRequested=!0}).catch(function(e){console.log(e)}):(console.log("new user"),e.signupView=!0):e.error=!0})},signup:function(){var e=this,t={url:"http://http://openlab.ncl.ac.uk/dokku/thoughtcloud",handleCodeInApp:!0,iOS:{bundleId:"uk.ac.ncl.openlab.thoughtcloud"},android:{packageName:"uk.ac.ncl.openlab.thoughtcloud",installApp:!1,minimumVersion:"12"},dynamicLinkDomain:"thoughtcloud.page.link"},n=this.email;m.signup({email:this.email,name:this.name}).then(function(i){console.log(i),i?l.a.auth().sendSignInLinkToEmail(n,t).then(function(){window.localStorage.setItem("emailForSignIn",n),e.emailRequested=!0}).catch(function(e){console.log(e)}):e.error=!0})}},data:function(){return{question:"How was today's session?",questionId:1,email:"",name:"",signupView:!1,storeState:g.state,user:g.state.currentUser,emailRequested:!1,loading:!0,timer:null}},computed:{loginStatus:function(){return g.state.currentUser}},watch:{loginStatus:function(e,t){var n=this;e&&!this.timer&&(this.timer=setTimeout(function(){n.timer=null,n.$router.replace({name:"home"})},3e3))}},mounted:function(){var e=this;console.log("props: "+this.user),this.user&&this.$router.replace({name:"home"}),setTimeout(function(){e.loading=!1},5e3),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready"),e.email=window.localStorage.getItem("emailForSignIn");case 3:case"end":return t.stop()}},t,e)})),!1)}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CloudTemplate",{attrs:{title:e.signupView?"Sign Up":"Login"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{id:"answer-buttons"}},[n("Loader",{attrs:{loading:e.loading}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&!e.signupView,expression:"!loading && !emailRequested && !signupView"}],attrs:{id:"answer-buttons"}},[n("div",{staticClass:"row"},[n("div",{attrs:{id:"title"}},[e._v("Sign in")])]),n("div",{staticClass:"row"},[n("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"row"},[n("button",{staticStyle:{"font-size":"12pt"},attrs:{id:"login-button",href:"#"},on:{click:function(t){return e.login()}}},[e._v("Sign in")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.emailRequested&&e.signupView,expression:"!loading && !emailRequested && signupView"}],attrs:{id:"answer-buttons"}},[n("div",{staticClass:"row"},[n("div",{attrs:{id:"title"}},[e._v("Sign up")])]),n("div",{staticClass:"row"},[n("div",{attrs:{id:"subtitle"}},[e._v("to continue")])]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"row"},[n("button",{staticStyle:{"font-size":"12pt"},on:{click:function(t){return e.signup()}}},[e._v("Sign Up")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.emailRequested,expression:"!loading && emailRequested"}],attrs:{id:"answer-buttons"}},[n("div",{staticClass:"row"},[n("div",{attrs:{id:"subtitle"}},[e._v("Check your email for login link")])])])])]},proxy:!0}])})},staticRenderFns:[]};var R=n("VU/8")(L,z,!1,function(e){n("MQi7")},"data-v-1f9d4fa9",null).exports,T=n("UlOv"),F={extends:T.a,mixins:[T.c.reactiveProp],props:["chartdata","options"],mounted:function(){console.log(this),this.renderChart(this.chartData,{legend:{labels:{fontSize:16}},tooltips:{bodyFontSize:18}})}},Z={name:"thanks",props:["sessionId"],components:{DonutChart:F,Loader:x},mounted:function(){var e=this;this.loading=!0,m.getSessionRatings(this.sessionId).then(function(t){e.loading=!1,e.rating=t,e.fillData()})},data:function(){return{rating:null,datacollection:{},people:0,loading:!1}},methods:{fillData:function(){var e=this,t=[0,0,0,0];this.people=0,this.rating.data.forEach(function(n){t[n.rating-1]=n.count,e.people+=n.count}),this.datacollection={labels:["🙁","😐","🙂","😀"],type:"doughnut",datasets:[{data:t,backgroundColor:["#f44336","#FFC107","#8BC34A","#4caf50"]}]}}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"thanks"}},[e.loading?n("div",[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.rating&&e.rating.data.length>0?n("p",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{margin:"1px"}},[e._v("Generated on"),n("span",{staticStyle:{"font-weight":"bold"}},[e._v("  "+e._s(e._f("moment")(this.rating.date,"M/D/YYYY, hh:mma")))]),e._v(", with"),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(this.people)+" participants")])]):e._e(),e.rating&&e.rating.data.length>0?n("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.datacollection}}):e._e(),e.rating&&0!=e.rating.data.length?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"no-data"}},[e._v("No data available")])],1)},staticRenderFns:[]};var G=n("VU/8")(Z,P,!1,function(e){n("ll1s")},"data-v-a6968fa0",null).exports,Y={name:"CloudTemplate",props:["back","title"],methods:{goBack:function(){this.$router.go(-1)}},components:{Header:w}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"main"}},[t("Header"),t("div",{attrs:{id:"cloud-body"}},[t("div",{attrs:{id:"content"}},[t("div",{attrs:{id:"content-header"}},[t("div",{attrs:{id:"logo"}},[this._v(this._s(this.title))])]),t("div",{attrs:{id:"tabs"}},[this._t("tabs")],2),t("div",{attrs:{id:"content-body"}},[this._t("content")],2)])])],1)},staticRenderFns:[]};var H=n("VU/8")(Y,O,!1,function(e){n("PIE9"),n("nWdI")},"data-v-378256e2",null).exports,J={name:"Thankyou",props:["sessionId"],components:{Thanks:G,PlainTemplate:H},data:function(){return{thanksText:null}},mounted:function(){var e=this;m.getSessionEvent(this.sessionId).then(function(t){e.thanksText=t[0].thanks_text}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",{attrs:{id:"thank-you"}},[n("h2",[e._v("Thank you!")]),n("div",{attrs:{id:"thanks-text"},domProps:{innerHTML:e._s(e.thanksText)}}),n("thanks",{attrs:{sessionId:e.sessionId}})],1)]},proxy:!0}])})},staticRenderFns:[]};var A=n("VU/8")(J,U,!1,function(e){n("j2Yi")},"data-v-52afb6b1",null).exports,Q={name:"Feedback",props:["sessionId"],components:{Thanks:G,Loader:x,PlainTemplate:H},methods:{skip:function(){this.event.followup_enabled=!1},routeToAudio:function(){console.log("to audio"),this.$router.replace({name:"audio-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId}})},routeToVideo:function(){console.log("to video"),this.$router.replace({name:"media-feedback",params:{sessionId:this.sessionId,feedbackId:this.feedbackId}})},sendFeedback:function(e){this.selectedFeedback=e},submitFeedback:function(){var e=r()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectedFeedback,console.log(t),this.loading=!0,e.next=5,m.submitFeedback({userId:this.storeState.currentUser.userId,sessionId:this.sessionId,eventId:this.event.event_id,rating:t});case 5:n=e.sent,this.loading=!1,this.feedbackId=n.feedbackId,this.feedbackSubmitted=!0;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},data:function(){return{question:"How was today's session?",event:null,error:!1,storeState:g.state,feedbackSubmitted:!1,feedbackId:null,ratings:null,datacollection:{},people:0,selectedFeedback:null,loading:!1}},mounted:function(){var e=this;this.loading=!0,m.getSessionEvent(this.sessionId).then(function(t){e.loading=!1,t&&0!==t.length?(e.event=t[0],e.question=e.event.question):(e.error=!0,e.$router.replace({name:"home"}))}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},B={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PlainTemplate",{attrs:{title:"Feedback",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?i("div",[i("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.event&&!e.feedbackSubmitted?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"question-view"}},[i("h3",[e._v(e._s(e.event.event_name)+" - "+e._s(e.event.session_name)),i("span",[i("router-link",{staticStyle:{"font-size":"0.85rem","text-decoration":"underline",color:"#3cbe94","margin-left":"5px"},attrs:{to:{name:"event-details",params:{sessionId:e.sessionId}}}},[e._v("(info)")])],1)]),i("h2",[e._v(e._s(e.question))]),i("div",{attrs:{id:"answer-buttons"}},[i("div",{staticClass:"row"},[i("a",{class:{selected:4==e.selectedFeedback},staticStyle:{color:"#4caf50"},on:{click:function(t){return e.sendFeedback(4)}}},[4!=e.selectedFeedback?i("img",{attrs:{src:n("5Wm7")}}):e._e(),4==e.selectedFeedback?i("img",{attrs:{src:n("lAaB")}}):e._e()]),i("a",{class:{selected:3==e.selectedFeedback},staticStyle:{color:"#8BC34A"},on:{click:function(t){return e.sendFeedback(3)}}},[3!=e.selectedFeedback?i("img",{attrs:{src:n("BA8d")}}):e._e(),3==e.selectedFeedback?i("img",{attrs:{src:n("Y/7N")}}):e._e()])]),i("div",{staticClass:"row"},[i("a",{class:{selected:2==e.selectedFeedback},staticStyle:{color:"#FFC107"},on:{click:function(t){return e.sendFeedback(2)}}},[2!=e.selectedFeedback?i("img",{attrs:{src:n("nS5Z")}}):e._e(),2==e.selectedFeedback?i("img",{attrs:{src:n("nDdm")}}):e._e()]),i("a",{class:{selected:1==e.selectedFeedback},staticStyle:{color:"#f44336"},on:{click:function(t){return e.sendFeedback(1)}}},[1!=e.selectedFeedback?i("img",{attrs:{src:n("EKB1")}}):e._e(),1==e.selectedFeedback?i("img",{attrs:{src:n("ui3n")}}):e._e()])])]),e.selectedFeedback?i("div",{staticClass:"submit"},[i("button",{on:{click:e.submitFeedback}},[e._v("Submit Feedback")])]):e._e()]):e._e(),e.event&&e.event.followup_enabled&&e.feedbackSubmitted?i("div",{attrs:{id:"follow-up"}},[i("h3",[e._v(e._s(e.event.event_name)+" - "+e._s(e.event.session_name))]),i("h2",[e._v(e._s(e.event.followup_label))]),i("div",{attrs:{id:"followup-options"}},[i("div",{attrs:{id:"video"},on:{click:e.routeToVideo}},[i("font-awesome-icon",{attrs:{icon:"video"}}),i("a",[e._v("Video Feedback")])],1),i("div",{attrs:{id:"audio"},on:{click:e.routeToAudio}},[i("font-awesome-icon",{attrs:{icon:"microphone-alt"}}),i("a",[e._v("Audio Feedback")])],1)]),i("div",{attrs:{id:"none"},on:{click:e.skip}},[i("a",[e._v("Skip")])])]):e._e(),e.event&&!e.event.followup_enabled&&e.feedbackSubmitted?i("div",{attrs:{id:"thank-you"}},[i("h2",{staticStyle:{margin:"5px"}},[e._v("Thank you!")]),i("div",{attrs:{id:"thanks-text"},domProps:{innerHTML:e._s(e.event.thanks_text)}}),i("thanks",{attrs:{sessionId:e.sessionId}})],1):e._e()]},proxy:!0}])})},staticRenderFns:[]};var W=n("VU/8")(Q,B,!1,function(e){n("wLrT")},"data-v-7d312f36",null).exports,V=n("ui3n"),X=n.n(V),q=n("nDdm"),K=n.n(q),$=n("Y/7N"),ee=n.n($),te=n("lAaB"),ne=n.n(te),ie={name:"FeedbackHistory",components:{Loader:x,CloudTemplate:E},methods:{viewFeedback:function(e){console.log(e),this.$router.push({name:"feedback",params:{feedbackId:e}})},goBack:function(){this.$router.go(-1)}},data:function(){return{feedback:null,error:!1,rating:[X.a,K.a,ee.a,ne.a],ratingImg:[X.a,K.a,ee.a,ne.a],ratingColor:["#f44336","#FFC107","#8BC34A","#4caf50"],storeState:g.state,loading:!1}},mounted:function(){var e=this;this.loading=!0,m.getFeedbackHistory().then(function(t){e.loading=!1,console.log(t),t&&0!==t.length?e.feedback=t:e.error=!0}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CloudTemplate",{attrs:{back:"true",title:"Feedback History"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",[e.loading?n("div",{attrs:{id:"events-view"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.feedback?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"events-view"}},e._l(e.feedback,function(t){return n("div",{staticClass:"event",on:{click:function(n){return e.viewFeedback(t.feedback_id)}}},[n("div",{staticClass:"event-data"},[n("div",{staticClass:"ev-name"},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))]),n("div",{staticClass:"ev-status"},[n("span",{staticStyle:{"font-weight":"bold"}},[e._v("Status:")]),n("span",[e._v("  "+e._s(["finished","ongoing","under analysis"][t.session_status]))])]),n("div",{staticClass:"ev-date"},[e._v(e._s(e._f("moment")(t.date_created,"M/D/YYYY, hh:mma")))])]),n("div",{staticClass:"event-icons"},[t.rating?n("img",{staticClass:"ev-rating",style:{"background-color":e.ratingColor[t.rating-1]},attrs:{src:e.ratingImg[t.rating-1],alt:t.rating-1}}):e._e(),2==t.extra_feedback_type?n("div",{staticClass:"ev-media"},[n("font-awesome-icon",{attrs:{icon:"microphone-alt"}})],1):e._e(),3==t.extra_feedback_type?n("div",{staticClass:"ev-media"},[n("font-awesome-icon",{attrs:{icon:"video"}})],1):e._e()])])}),0):e._e()])]},proxy:!0}])})},staticRenderFns:[]};var ae=n("VU/8")(ie,se,!1,function(e){n("1JSW")},"data-v-47f8392e",null).exports,oe={name:"MediaFeedback",props:["feedbackId","sessionId"],components:{Loader:x,Header:w},methods:{skip:function(){this.$router.replace({name:"thankyou",params:{sessionId:this.sessionId}})},getSignedRequest:function(e,t){var n=this;u.a.get("https://openlab.ncl.ac.uk/dokku/tcv2-api/sign-s3?file-name=v2/"+encodeURIComponent(e.filename)+"&file-type="+encodeURIComponent(e.type)).then(function(i){console.log(i),n.uploadFile(e,i.data.signedRequest,i.data.url,t),n.uploadUrl=i.data.url})},uploadFile:function(e,t,n,i){var s=this,a={headers:{"Content-Type":e.type}};console.log("file"),console.log(e),u.a.put(t,e,a).then(function(e){return console.log(e.data),s.sendAnswer(),e.data}).catch(function(e){return console.log(e.response),{error:!0,errorMessage:e.response}})},uploadVideo:function(){this.getSignedRequest(this.currentFile)},restart:function(){console.log(this),document.querySelector("video#playback").src=null,this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.initVideoRecorder()},onDeviceReady:function(){var e=r()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(navigator),document.addEventListener("backbutton",this.onBackKeyDown,!1),this.ready=!0,console.log("ready"),this.initVideoRecorder();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sendAnswer:function(e){var t=this;console.log("feedbackId: "+this.feedbackId),this.loading=!0,m.submitMediaFeedback({feedbackId:this.feedbackId,type:3,location:this.uploadUrl}).then(function(e){t.loading=!1,t.$router.replace({name:"thankyou",params:{sessionId:t.sessionId}})})},initVideoRecorder:function(){this.videoElement=document.querySelector("#record"),navigator.mediaDevices.enumerateDevices().then(this.gotDevices).then(this.getStream).catch(this.handleError)},gotDevices:function(e){console.log(e);for(var t=0;t!==e.length;++t){var n=e[t];document.createElement("option").value=n.deviceId}},getStream:function(){window.stream&&window.stream.getTracks().forEach(function(e){e.stop()});var e={audio:!0,video:{facingMode:this.facingModeUser?"user":"environment",width:{ideal:640}}};navigator.mediaDevices.getUserMedia(e).then(this.gotStream).catch(this.handleError)},gotStream:function(e){var t=this;window.stream=e,console.log(e);this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(e,{mimeType:"video/webm"}),this.mediaRecorder.addEventListener("dataavailable",function(e){e.data.size>0&&(console.log(e),t.recordedChunks.push(e.data),console.log("media recording")),!0===t.shouldStop&&!1===t.stopped&&"inactive"!==t.mediaRecorder.state&&(t.mediaRecorder.stop(),t.stopped=!0,console.log("media will stop"))}),this.mediaRecorder.addEventListener("stop",function(){t.stopped=!0,console.log("media stopped"),t.currentFile=t.blobToFile(new Blob(t.recordedChunks,{name:Date.now()+"-video.webm",type:"video/webm"}),"webm"),console.log(t.currentFile),e.getTracks().forEach(function(e){e.stop()}),document.querySelector("#record").srcObject=null,t.recorded=!0,t.currentUrl=URL.createObjectURL(new Blob(t.recordedChunks,{name:Date.now()+"-video.webm",type:"video/webm"}),"webm"),document.querySelector("video#playback").src=t.currentUrl}),window.mediaRecorder=this.mediaRecorder,window.recordedChunks=this.recordedChunks;var n=new MediaStream(e.getVideoTracks());document.querySelector("#record").srcObject=n;var i={height:e.getVideoTracks()[0].getSettings().height,width:e.getVideoTracks()[0].getSettings().width};console.log(i)},writeFile:function(e,t){var n=this;e.createWriter(function(i){i.onwriteend=function(){console.log("Successful file write..."),console.log(e),n.currentBlob=e.nativeURL,n.readFile(e)},i.onerror=function(e){console.log("Failed file write: "+e.toString())},t||(t=new Blob(["some file data"],{type:"text/plain"})),i.write(t)})},getFileSystem:function(e){var t=this;window.requestFileSystem(window.TEMPORARY,5242880,function(n){var i;return console.log("file system open: "+n.name),i=e.filename,n.root.getFile(i,{create:!0,exclusive:!1},function(n){return t.writeFile(n,e)},function(e){return console.log(e)})},function(e){return console.log(e)})},readFile:function(e){var t=this;e.file(function(e){var n=new FileReader,i=t.getSignedRequest;n.onloadend=function(){console.log("Successful file read: "+this.result),i(e,this.result)},n.readAsText(e)},function(e){return console.log(e)})},handleError:function(e){console.error("Error: ",e),console.log(e)},recordButtonAction:function(){this.mediaRecorder&&(this.stopped?(this.stopped=!1,this.shouldStop=!1,console.log("media should start"),this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.mediaRecorder.start()):(this.shouldStop=!0,console.log("media should stop"),this.mediaRecorder.stop()))},flipCamera:function(){this.mediaRecorder&&this.stopped&&(this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.facingModeUser=!this.facingModeUser,this.initVideoRecorder())},blobToFile:function(e,t){return e.filename=Date.now()+"."+t,e.lastModifiedDate=Date.now(),e},onBackKeyDown:function(){console.log(this.$router),this.$router.go(-1)},leaving:function(){console.log("leaving"),window.stream&&window.stream.getTracks().forEach(function(e){e.stop()})}},beforeRouteLeave:function(e,t,n){console.log("beforeRouteLeave: HOME"),this.leaving(),n()},data:function(){return{question:"How was today's session?",videoElement:null,shouldStop:!0,stopped:!0,mediaRecorder:null,recordedChunks:[],storageLocation:"",currentFile:null,currentBlob:null,recorded:!1,currentUrl:null,uploadUrl:null,facingModeUser:!0,loading:!1}},mounted:function(){window.addEventListener("beforeunload",this.leaving),this.onDeviceReady()}},re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("div",{attrs:{id:"header-container"}},[n("Header")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.recorded,expression:"!recorded"}],attrs:{id:"recording"}},[e.recorded?e._e():n("video",{attrs:{id:"record",autoplay:"autoplay",playsinline:"playsinline",muted:"muted"},domProps:{muted:!0}}),n("div",{attrs:{id:"video-controls"}},[n("div",{attrs:{id:"vc-container"}},[n("div",{staticClass:"vc"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])]),n("div",{staticClass:"vc"},[n("div",{attrs:{id:"recording-btn-container"}},[n("button",{class:{recording:!e.stopped},attrs:{id:"recording-btn",disabled:e.shouldStop&&!e.stopped},on:{click:e.recordButtonAction}},[e.stopped?n("font-awesome-icon",{attrs:{icon:"video"}}):e._e(),e.stopped?e._e():n("font-awesome-icon",{attrs:{icon:"stop"}})],1)])]),n("div",{staticClass:"vc"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"flip-camera"},on:{click:e.flipCamera}},[n("font-awesome-icon",{attrs:{icon:"sync"}})],1)])])])]),e.recorded?n("div",{attrs:{id:"recorded"}},[n("video",{attrs:{id:"playback",autoplay:"autoplay",controls:"controls",src:e.currentUrl}}),n("div",{attrs:{id:"playback-controls"}},[e.loading?n("div",[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.loading?e._e():n("div",{attrs:{id:"pb-container"}},[n("button",{attrs:{id:"upload",disabled:!e.currentFile},on:{click:e.uploadVideo}},[e._v("Submit Feedback")]),n("button",{attrs:{id:"restart"},on:{click:e.restart}},[e._v("Record Again")]),n("a",{attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])])])]):e._e()])},staticRenderFns:[]};var de=n("VU/8")(oe,re,!1,function(e){n("5hzL"),n("mqfy")},"data-v-764546ff",null).exports,le={name:"AudioFeedback",props:["feedbackId","sessionId"],components:{Loader:x,Header:w},methods:{skip:function(){this.$router.replace({name:"thankyou",params:{sessionId:this.sessionId}})},getSignedRequest:function(e,t){var n=this;u.a.get("https://openlab.ncl.ac.uk/dokku/tcv2-api//sign-s3?file-name=v2/"+encodeURIComponent(e.filename)+"&file-type="+encodeURIComponent(e.type)).then(function(i){console.log(i),n.uploadFile(e,i.data.signedRequest,i.data.url,t),n.uploadUrl=i.data.url})},uploadFile:function(e,t,n,i){var s=this,a={headers:{"Content-Type":e.type}};console.log("file"),console.log(e),u.a.put(t,e,a).then(function(e){return console.log(e.data),s.sendAnswer(),e.data}).catch(function(e){return console.log(e.response),{error:!0,errorMessage:e.response}})},uploadVideo:function(){this.getSignedRequest(this.currentFile)},restart:function(){console.log(this),document.querySelector("audio#playback").src=null,this.currentFile=null,this.currentBlob=null,this.recorded=!1,this.currentUrl=null,this.initAudioRecorder()},onDeviceReady:function(){var e=r()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("backbutton",this.onBackKeyDown,!1),this.ready=!0,console.log("ready"),this.initAudioRecorder();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sendAnswer:function(e){var t=this;this.loading=!0,console.log("feedbackId: "+this.feedbackId),m.submitMediaFeedback({feedbackId:this.feedbackId,type:2,location:this.uploadUrl}).then(function(e){t.loading=!1,t.$router.replace({name:"thankyou",params:{sessionId:t.sessionId}})})},initAudioRecorder:function(){this.audioSelect=document.querySelector("select#audioSource"),navigator.mediaDevices.enumerateDevices().then(this.gotDevices).then(this.getStream).catch(this.handleError),this.audioSelect.onchange=this.getStream},gotDevices:function(e){console.log(e);for(var t=0;t!==e.length;++t){var n=e[t],i=document.createElement("option");i.value=n.deviceId,"audioinput"===n.kind&&(i.text=n.label||"microphone "+(this.audioSelect.length+1),this.audioSelect.appendChild(i))}},getStream:function(){window.stream&&window.stream.getTracks().forEach(function(e){e.stop()});var e={audio:{deviceId:{exact:this.audioSelect.value}},video:!1};navigator.mediaDevices.getUserMedia(e).then(this.gotStream).catch(this.handleError)},gotStream:function(e){var t=this;window.stream=e,console.log("stream"),console.log(e);this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(e,{mimeType:"video/webm"}),this.mediaRecorder.addEventListener("dataavailable",function(e){e.data.size>0&&(console.log(e),t.recordedChunks.push(e.data),console.log("media recording")),!0===t.shouldStop&&!1===t.stopped&&"inactive"!==t.mediaRecorder.state&&(t.mediaRecorder.stop(),t.stopped=!0,console.log("media will stop"))}),this.mediaRecorder.addEventListener("stop",function(){t.stopped=!0,console.log("media stopped"),t.currentFile=t.blobToFile(new Blob(t.recordedChunks,{name:Date.now()+"-audio.webm",type:"audio/webm"}),"webm"),console.log(t.currentFile),e.getTracks().forEach(function(e){e.stop()}),t.recorded=!0,t.currentUrl=URL.createObjectURL(new Blob(t.recordedChunks,{name:Date.now()+"-video.webm",type:"video/webm"}),"webm"),document.querySelector("audio#playback").src=t.currentUrl}),window.mediaRecorder=this.mediaRecorder,window.recordedChunks=this.recordedChunks},writeFile:function(e,t){var n=this;e.createWriter(function(i){i.onwriteend=function(){console.log("Successful file write..."),console.log(e),n.currentBlob=e.nativeURL,n.readFile(e)},i.onerror=function(e){console.log("Failed file write: "+e.toString())},t||(t=new Blob(["some file data"],{type:"text/plain"})),i.write(t)})},getFileSystem:function(e){var t=this;window.requestFileSystem(window.TEMPORARY,5242880,function(n){var i;return console.log("file system open: "+n.name),i=e.filename,n.root.getFile(i,{create:!0,exclusive:!1},function(n){return t.writeFile(n,e)},function(e){return console.log(e)})},function(e){return console.log(e)})},readFile:function(e){var t=this;e.file(function(e){var n=new FileReader,i=t.getSignedRequest;n.onloadend=function(){console.log("Successful file read: "+this.result),i(e,this.result)},n.readAsText(e)},function(e){return console.log(e)})},handleError:function(e){console.error("Error: ",e),console.log(e)},recordButtonAction:function(){console.log(this.mediaRecorder),this.mediaRecorder&&(this.stopped?(this.stopped=!1,this.shouldStop=!1,console.log("media should start"),this.recordedChunks=[],this.currentFile=null,this.currentBlob=null,this.mediaRecorder.start()):(this.shouldStop=!0,console.log("media should stop"),this.mediaRecorder.stop()))},blobToFile:function(e,t){return e.filename=Date.now()+"."+t,e.lastModifiedDate=Date.now(),e},onBackKeyDown:function(){console.log(this.$router),this.$router.go(-1)},leaving:function(){console.log("leaving"),window.stream&&window.stream.getTracks().forEach(function(e){e.stop()})}},beforeRouteLeave:function(e,t,n){console.log("beforeRouteLeave: HOME"),this.leaving(),n()},data:function(){return{question:"How was today's session?",videoElement:null,audioSelect:null,videoSelect:null,shouldStop:!0,stopped:!0,mediaRecorder:null,recordedChunks:[],storageLocation:"",currentFile:null,currentBlob:null,recorded:!1,currentUrl:null,uploadUrl:null,loading:!1}},mounted:function(){window.addEventListener("beforeunload",this.leaving),this.onDeviceReady()}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("div",{attrs:{id:"header-container"}},[n("Header")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.recorded,expression:"!recorded"}],attrs:{id:"recording"}},[n("div",{attrs:{id:"microphone-icon"}},[n("font-awesome-icon",{attrs:{icon:"microphone-alt"}})],1),n("div",{attrs:{id:"video-controls"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[n("select",{attrs:{id:"audioSource"}})]),n("div",{attrs:{id:"vc-container"}},[n("div",{staticClass:"vc"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.stopped,expression:"stopped"}],attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])]),n("div",{staticClass:"vc"},[n("div",{attrs:{id:"recording-btn-container"}},[n("button",{class:{recording:!e.stopped},attrs:{id:"recording-btn",disabled:e.shouldStop&&!e.stopped},on:{click:e.recordButtonAction}},[e.stopped?n("font-awesome-icon",{attrs:{icon:"circle"}}):e._e(),e.stopped?e._e():n("font-awesome-icon",{attrs:{icon:"stop"}})],1)])]),n("div",{staticClass:"vc",staticStyle:{width:"60px"}})])])]),e.recorded?n("div",{attrs:{id:"recorded"}},[n("audio",{attrs:{id:"playback",autoplay:"autoplay",muted:"muted",controls:"controls",src:e.currentUrl}}),n("div",{attrs:{id:"playback-controls"}},[e.loading?e._e():n("div",{attrs:{id:"pb-container"}},[n("button",{attrs:{id:"upload",disabled:!e.currentFile},on:{click:e.uploadVideo}},[e._v("Submit Feedback")]),n("button",{attrs:{id:"restart"},on:{click:e.restart}},[e._v("Record Again")]),n("a",{attrs:{id:"skip"},on:{click:e.skip}},[e._v("Skip")])]),e.loading?n("div",[n("Loader",{attrs:{loading:e.loading}})],1):e._e()])]):e._e()])},staticRenderFns:[]};var ue=n("VU/8")(le,ce,!1,function(e){n("cDbI"),n("t0ra")},"data-v-51c005aa",null).exports,ve={name:"UserSettings",components:{CloudTemplate:E,Loader:x},data:function(){return{loading:!1}},methods:{logout:function(){var e=this;l.a.auth().signOut().then(function(){console.log("loggedOut"),e.$router.replace({name:"login"})}).catch(function(e){console.log(e)})},goBack:function(){this.$router.go(-1)},join:function(e){var t=this;e=window.prompt("Please enter join code"),console.log(e),e&&(this.loading=!0,m.getSessionId(e).then(function(e){t.loading=!1,e&&e.id?t.$router.push({name:"event",params:{sessionId:e.id}}):t.error=!0}))}}},me={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CloudTemplate",{attrs:{title:"Settings",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",[e.loading?n("div",{attrs:{id:"answer-buttons"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"answer-buttons"}},[n("div",{attrs:{id:"events-view"}},[n("h3",[e._v("Settings")]),n("div",[n("a",{staticClass:"button",on:{click:e.join}},[e._v("Join")])]),n("div",[n("a",{attrs:{id:"signout"},on:{click:e.logout}},[e._v("Logout")])])])])])]},proxy:!0}])})},staticRenderFns:[]};var ge=n("VU/8")(ve,me,!1,function(e){n("bSiT"),n("mGw1")},"data-v-6e3e022d",null).exports,pe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),n("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var he=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},pe,!1,function(e){n("oUA3")},"data-v-d8ec41bc",null).exports,fe={name:"EventList",methods:{},components:{Loader:x,CloudTemplate:E},data:function(){return{events:null,error:!1,storeState:g.state,loading:!0}},mounted:function(){var e=this;m.getUserEvents(this.storeState.currentUser.userId).then(function(t){e.loading=!1,t&&0!==t.length?e.events=t:e.error=!0}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},be={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CloudTemplate",{attrs:{title:"Events"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",[e.loading?n("div",{attrs:{id:"events-view"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),!e.loading&&e.events?n("div",{attrs:{id:"events-view"}},[n("h3",[e._v("Available Events")]),n("div",{staticClass:"row"},[n("div",{attrs:{id:"subtitle"}},[e._v("Select one of the events below to give your feedback")])]),e._l(e.events.availableEvents,function(t){return n("div",{attrs:{id:"event"}},[n("router-link",{attrs:{id:"current",to:{name:"event",params:{sessionId:t.session_id}}}},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))])],1)}),n("h3",[e._v("Past Events")]),e._l(e.events.pastEvents,function(t){return n("div",{attrs:{id:"event"}},[n("router-link",{attrs:{id:"past",to:{name:"event-details",params:{sessionId:t.session_id}}}},[e._v(e._s(t.event_name)+" - "+e._s(t.session_name))])],1)})],2):e._e()])]},proxy:!0}])})},staticRenderFns:[]};var Ie=n("VU/8")(fe,be,!1,function(e){n("iANh")},"data-v-d88fe2ee",null).exports,we=n("hiCB"),ke=n.n(we),ye={name:"FeedbackDetails",props:["feedbackId"],components:{Thanks:G,PlainTemplate:H,Loader:x},data:function(){return{rating:["🙁","😐","🙂","😀"],ratingImg:[X.a,K.a,ee.a,ne.a],ratingColor:["#f44336","#FFC107","#8BC34A","#4caf50"],feedback:null,loading:!1}},methods:{calculateMediaDuration:function(e){return new C.a(function(t,n){e.onloadedmetadata=function(){console.log(e),e.currentTime=ke.a,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}})}},mounted:function(){var e=this;this.loading=!0,m.getFeedbackItem(this.feedbackId).then(function(t){e.loading=!1,console.log(t),t&&0!==t.length?(e.feedback=t,e.$nextTick(function(){var t=document.querySelector("#media");t&&e.calculateMediaDuration(t).then(function(){console.log(t.duration)})})):e.error=!0}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},Se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?n("div",{attrs:{id:"event"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.feedback&&!e.loading?n("div",{attrs:{id:"event"}},[n("h3",{attrs:{id:"name"}},[e._v(e._s(e.feedback.event_name)+" - "+e._s(e.feedback.session_name))]),n("div",{attrs:{id:"question"}},[e._v(e._s(e.feedback.question))]),n("div",{attrs:{id:"status"}},[e._v("This event"),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(["is finished","is currently ongoing","is under analysis"][e.feedback.session_status]))])]),n("div",{attrs:{id:"feedback"}},[n("h4",[e._v("Your Feedback")]),n("div",{attrs:{id:"feedback-data"}},[n("div",{attrs:{id:"date"}},[e._v(e._s(e._f("moment")(e.feedback.date_created,"M/D/YYYY, hh:mma")))]),n("img",{style:{"background-color":e.ratingColor[e.feedback.rating-1]},attrs:{id:"rating",src:e.ratingImg[e.feedback.rating-1]}})]),2==e.feedback.extra_feedback_type?n("div",{attrs:{id:"feedback-media"}},[n("audio",{attrs:{id:"media",controls:"controls",controlsList:"nodownload"}},[n("source",{attrs:{src:e.feedback.file_location,type:"audio/webm"}})])]):e._e(),3==e.feedback.extra_feedback_type?n("div",{attrs:{id:"feedback-media"}},[n("video",{attrs:{id:"media",controls:"controls"}},[n("source",{attrs:{src:e.feedback.file_location,type:"video/webm"}})])]):e._e()]),n("div",{attrs:{id:"chart"}},[n("h4",[e._v("Results")]),n("thanks",{attrs:{sessionId:e.feedback.session_id}})],1)]):e._e()]},proxy:!0}])})},staticRenderFns:[]};var _e=n("VU/8")(ye,Se,!1,function(e){n("nbFP")},"data-v-a96fa896",null).exports,Ce={name:"EventDetails",props:["sessionId"],components:{Thanks:G,PlainTemplate:H,Loader:x},data:function(){return{rating:["🙁","😐","🙂","😀"],ratingImg:[X.a,K.a,ee.a,ne.a],ratingColor:["#f44336","#FFC107","#8BC34A","#4caf50"],feedback:null,loading:!0}},methods:{calculateMediaDuration:function(e){return new C.a(function(t,n){e.onloadedmetadata=function(){console.log(e),e.currentTime=ke.a,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}})}},mounted:function(){var e=this;this.ready=!0,this.loading=!0,console.log("ready"),m.getSessionEvent(this.sessionId).then(function(t){console.log(t),e.loading=!1,t&&0!==t.length?(e.feedback=t[0],console.log(e.feedback),e.$nextTick(function(){var t=document.querySelector("#media");t&&e.calculateMediaDuration(t).then(function(){console.log(t.duration)})})):e.error=!0})}},je={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PlainTemplate",{attrs:{title:"Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[e.loading?n("div",{attrs:{id:"event"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),!e.loading&&e.feedback?n("div",{attrs:{id:"event"}},[n("h3",{attrs:{id:"name"}},[e._v(e._s(e.feedback.event_name)+" - "+e._s(e.feedback.session_name))]),n("div",{attrs:{id:"question"}},[e._v(e._s(e.feedback.question))]),n("div",{attrs:{id:"status"}},[e._v("This event"),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(["is finished","is currently ongoing","is under analysis"][e.feedback.session_status]))])]),n("div",{attrs:{id:"chart"}},[n("h4",[e._v("Results")]),n("thanks",{attrs:{sessionId:e.feedback.session_id}})],1)]):e._e()]},proxy:!0}])})},staticRenderFns:[]};var Me=n("VU/8")(Ce,je,!1,function(e){n("joED")},"data-v-7deda265",null).exports,xe={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view",{staticStyle:{margin:"0 auto"}})},staticRenderFns:[]},Ne=n("VU/8")({name:"AdminHome",methods:{}},xe,!1,null,null,null).exports,De={name:"AdminEvents",methods:{addEvent:function(){this.$router.push({name:"admin-add-event"})}},components:{Loader:x,CloudTemplate:E},data:function(){return{events:null,error:!1,storeState:g.state,loading:!0}},mounted:function(){var e=this;m.getAdminEvents().then(function(t){e.loading=!1,t&&0!==t.length?e.events=t:e.error=!0}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},Ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CloudTemplate",{attrs:{title:"Admin Panel",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",[e.loading?n("div",{attrs:{id:"events-view"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),!e.loading&&e.events?n("div",{attrs:{id:"events-view"}},[n("div",{staticClass:"heading"},[n("h3",[e._v("Events")]),n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"edit"},on:{click:e.addEvent}},[e._v("Add Event")])])]),e._l(e.events,function(t){return n("div",{attrs:{id:"event"}},[n("router-link",{attrs:{id:"current",to:{name:"admin-event-details",params:{eventId:t.event_id}}}},[e._v(e._s(t.name))])],1)})],2):e._e()])]},proxy:!0}])})},staticRenderFns:[]};var Le=n("VU/8")(De,Ee,!1,function(e){n("FXyY")},"data-v-1837857d",null).exports,ze=(n("3f40"),n("4qOc"),n("+cgv"),n("G0J2")),Re={name:"admin-sessions",props:["value"],components:{Loader:x,quillEditor:ze.quillEditor},mounted:function(){this.events=this.value,console.log(this.events[0]),this.events[0].followup_label&&""!==this.events[0].followup_label||(this.events[0].followup_label=this.events[0].question)},data:function(){return{editing:!1,status:["Finished","Ongoing","Under Analysis"],cooldownVals:["As many time as they want","Hourly","Daily","Weekly","Monthly","Only once"],editedEvent:{},events:[],loading:!1,editingSession:!1,editedSession:{sessionId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}},thankyouEditorOptions:{theme:"bubble",placeholder:"Thank you message",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"]]}},descriptionEditorOptions:{theme:"bubble",placeholder:"Event description",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"]]}}}},methods:{addSession:function(){this.editingSession=!0,this.editedSession={sessionId:null,eventId:this.events[0].event_id,new:!0,name:null,status:1,privacy:!1,metadata:{}}},editSession:function(e){var t=this.events[e],n=t.session_metadata?JSON.parse(t.session_metadata):{};this.editingSession=!0,this.editedSession={sessionId:t.session_id,eventId:t.event_id,new:!1,name:t.session_name,status:t.session_status,privacy:t.privacy,metadata:n},console.log(t),console.log(this.editedSession),console.log(n)},saveSession:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.editingSession=!1,e.loading=!0,console.log(e.editedSession),!e.editedSession.new){t.next=8;break}return t.next=6,m.createSession(e.editedSession);case 6:t.next=10;break;case 8:return t.next=10,m.updateSession(e.editedSession);case 10:m.getAdminEventDetails(e.editedSession.eventId).then(function(t){e.loading=!1,t&&0!==t.length?(e.events=t,e.$emit("input",e.events)):e.error=!0});case 11:case"end":return t.stop()}},t,e)}))()},discardSessionEdits:function(){this.editingSession=!1,this.editedSession={sessionId:null,eventId:this.events[0].event_id,new:!0,name:null,status:1,privacy:!1,metadata:{}}},editEvent:function(){this.editedEvent={eventId:this.events[0].event_id,name:this.events[0].event_name,question:this.events[0].question,followupEnabled:this.events[0].followup_enabled,followupLabel:this.events[0].followup_label,extraFields:null,expiryDate:null,showFeedback:!1,showResults:this.events[0].show_results,status:this.events[0].event_status,cooldownPeriod:this.events[0].cooldown,description:this.events[0].description,thanksText:this.events[0].thanks_text},this.editing=!0},saveEvent:function(){var e=this;return r()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.editing=!1,e.loading=!0,t.next=4,m.updateEvent(e.editedEvent);case 4:n=t.sent,console.log(n),m.getAdminEventDetails(e.editedEvent.eventId).then(function(t){e.loading=!1,t&&0!==t.length?(e.events=t,e.$emit("input",e.events)):e.error=!0});case 7:case"end":return t.stop()}},t,e)}))()},discardEdits:function(){this.editing=!1,this.editedEvent={eventId:this.events[0].event_id,name:this.events[0].event_name,question:this.events[0].question,followupEnabled:this.events[0].followup_enabled,followupLabel:this.events[0].followup_label,extraFields:null,expiryDate:null,showFeedback:!1,showResults:this.events[0].show_results,status:this.events[0].event_status,cooldownPeriod:this.events[0].cooldown,description:this.events[0].description,thanksText:this.events[0].thanks_text}}}},Te={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"}},[e.loading?n("div",{attrs:{id:"event"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.events?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.editingSession,expression:"!loading && !editingSession"}],attrs:{id:"event-settings"}},[n("div",{staticClass:"heading"},[n("h3",[e._v(e._s(e.events[0].event_name))]),e.editing?e._e():n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"edit"},on:{click:e.editEvent}},[e._v("Edit Event")])]),e.editing?n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),n("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])]):e._e()]),n("div",{attrs:{id:"date-created"}},[e._v("Date created: "+e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))]),n("div",{staticClass:"section",attrs:{id:"general-settings"}},[n("div",{staticClass:"row"},[n("label",[e._v("Event Name")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].event_name)),e.events[0].event_name?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),e.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.name,expression:"editedEvent.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Event Name",name:"name"},domProps:{value:e.editedEvent.name},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"name",t.target.value)}}}):e._e()]),n("div",{staticClass:"row"},[n("label",[e._v("Event Status")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.status[e.events[0].event_status]))]),e.editing?n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.status,expression:"editedEvent.status"}],staticClass:"event-input",attrs:{placeholder:"Event Status",name:"status"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedEvent,"status",t.target.multiple?n:n[0])}}},e._l(e.status,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0):e._e()]),n("div",{staticClass:"row"},[n("label",[e._v("Event Description")]),e.editing?e._e():n("div",{staticClass:"event-data",domProps:{innerHTML:e._s(e.events[0].description)}}),e.events[0].description?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"event-data no-data"},[e._v("Empty")]),e.editing?n("div",{staticClass:"quill"},[n("quill-editor",{ref:"descriptionQuillEditor",attrs:{options:e.descriptionEditorOptions},model:{value:e.editedEvent.description,callback:function(t){e.$set(e.editedEvent,"description",t)},expression:"editedEvent.description"}})],1):e._e()]),n("div",{staticClass:"section",attrs:{id:"feedback-settings"}},[n("h4",[e._v("Feedback")]),n("div",{staticClass:"row"},[n("label",[e._v("Main Question")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].question)),e.events[0].question?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),e.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.question,expression:"editedEvent.question"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"main-question"},domProps:{value:e.editedEvent.question},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"question",t.target.value)}}}):e._e()]),n("div",{staticClass:"row"},[n("label",[e._v("How often can a user give feedback?")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.cooldownVals[e.events[0].cooldown]))]),e.editing?n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.cooldownPeriod,expression:"editedEvent.cooldownPeriod"}],staticClass:"event-input",attrs:{placeholder:"Cooldown",name:"cooldown"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedEvent,"cooldownPeriod",t.target.multiple?n:n[0])}}},e._l(e.cooldownVals,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0):e._e()])]),n("div",{staticClass:"section",attrs:{id:"media-settings"}},[n("h4",[e._v("Media Feedback")]),n("div",{staticClass:"row"},[n("label",[e._v("Media Feedback")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].followup_enabled?"Enabled":"Disabled"))]),e.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.followupEnabled,expression:"editedEvent.followupEnabled"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-enabled"},domProps:{checked:Array.isArray(e.editedEvent.followupEnabled)?e._i(e.editedEvent.followupEnabled,null)>-1:e.editedEvent.followupEnabled},on:{change:function(t){var n=e.editedEvent.followupEnabled,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedEvent,"followupEnabled",n.concat([null])):a>-1&&e.$set(e.editedEvent,"followupEnabled",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedEvent,"followupEnabled",s)}}}):e._e(),e.editing?n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")]):e._e()]),n("div",{staticClass:"row"},[n("label",{directives:[{name:"show",rawName:"v-show",value:e.events[0].followup_enabled||e.editing,expression:"events[0].followup_enabled || editing"}]},[e._v("Media Feedback Question")]),e.editing?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:e.events[0].followup_enabled,expression:"events[0].followup_enabled"}],staticClass:"event-data"},[e._v(e._s(e.events[0].followup_label)),e.events[0].followup_label?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"no-data"},[e._v("Empty")])]),e.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.followupLabel,expression:"editedEvent.followupLabel"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Follow-up Question",name:"description",disabled:!e.editedEvent.followupEnabled},domProps:{value:e.editedEvent.followupLabel},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"followupLabel",t.target.value)}}}):e._e()])]),n("div",{staticClass:"section",attrs:{id:"thankyou-settings"}},[n("h4",[e._v("Thank You Page")]),n("div",{staticClass:"row"},[n("label",[e._v("Display Results")]),e.editing?e._e():n("div",{staticClass:"event-data"},[e._v(e._s(e.events[0].show_results?"Enabled":"Disabled"))]),e.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.showResults,expression:"editedEvent.showResults"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Show Results",name:"show-results"},domProps:{checked:Array.isArray(e.editedEvent.showResults)?e._i(e.editedEvent.showResults,null)>-1:e.editedEvent.showResults},on:{change:function(t){var n=e.editedEvent.showResults,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedEvent,"showResults",n.concat([null])):a>-1&&e.$set(e.editedEvent,"showResults",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedEvent,"showResults",s)}}}):e._e(),e.editing?n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")]):e._e()]),n("div",{staticClass:"row"},[n("label",[e._v("Thank You Message")]),e.editing?e._e():n("div",{staticClass:"event-data",domProps:{innerHTML:e._s(e.events[0].thanks_text)}}),e.events[0].thanks_text?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"event-data no-data"},[e._v("Empty")]),e.editing?n("div",{staticClass:"quill"},[n("quill-editor",{ref:"myQuillEditor",attrs:{options:e.thankyouEditorOptions},model:{value:e.editedEvent.thanksText,callback:function(t){e.$set(e.editedEvent,"thanksText",t)},expression:"editedEvent.thanksText"}})],1):e._e()])]),e.editing?e._e():n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"edit"},on:{click:e.editEvent}},[e._v("Edit Event")])]),e.editing?n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),n("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])]):e._e()])]):e._e(),e.editing?e._e():n("div",{attrs:{id:"session"}},[n("div",{staticClass:"heading"},[n("h3",[e._v("Sessions")]),e.editingSession?e._e():n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"edit"},on:{click:e.addSession}},[e._v("Add a New Session")])]),e.editingSession?n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"save"},on:{click:e.saveSession}},[e._v("Save")]),n("div",{attrs:{id:"discard"},on:{click:e.discardSessionEdits}},[e._v("Discard")])]):e._e()]),e.editingSession?n("div",{attrs:{id:"add-session"}},[n("div",{staticClass:"row"},[n("label",[e._v("Session Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.name,expression:"editedSession.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"name"},domProps:{value:e.editedSession.name},on:{input:function(t){t.target.composing||e.$set(e.editedSession,"name",t.target.value)}}})]),n("div",{staticClass:"row"},[n("label",[e._v("Session Status")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.status,expression:"editedSession.status"}],staticClass:"event-input",attrs:{placeholder:"Session Status",name:"status"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedSession,"status",t.target.multiple?n:n[0])}}},e._l(e.status,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0)]),n("div",{staticClass:"row"},[n("label",[e._v("Session Privacy")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.privacy,expression:"editedSession.privacy"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Session Privacy",name:"privacy"},domProps:{checked:Array.isArray(e.editedSession.privacy)?e._i(e.editedSession.privacy,null)>-1:e.editedSession.privacy},on:{change:function(t){var n=e.editedSession.privacy,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedSession,"privacy",n.concat([null])):a>-1&&e.$set(e.editedSession,"privacy",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedSession,"privacy",s)}}}),n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Make Public")])]),n("div",{staticClass:"row"},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.metadata.location,expression:"editedSession.metadata.location"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Location",name:"location"},domProps:{value:e.editedSession.metadata.location},on:{input:function(t){t.target.composing||e.$set(e.editedSession.metadata,"location",t.target.value)}}})])]):e._e(),e._l(e.events,function(t,i){return e.events?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.editingSession,expression:"!loading && !editingSession"}],staticClass:"event"},[n("div",{staticClass:"event-data"},[n("div",{staticClass:"ev-name"},[n("div",[e._v(e._s(t.session_name))]),n("a",{staticClass:"session-edit",on:{click:function(t){return e.editSession(i)}}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1)]),n("div",{staticClass:"ev-status"},[n("span",{staticStyle:{"font-weight":"bold"}},[e._v("Joincode:")]),n("span",[e._v("  "+e._s(t.join_code))])]),t.session_fb_link?n("div",{staticClass:"ev-status"},[n("span",{staticStyle:{"font-weight":"bold"}},[e._v("Share Link:")]),n("span",[n("a",{attrs:{href:t.session_fb_link,target:"_blank"}},[e._v(e._s(t.session_fb_link))])])]):e._e(),n("div",{staticClass:"ev-status"},[n("span",{staticStyle:{"font-weight":"bold"}},[e._v("Status:")]),n("span",[e._v("  "+e._s(["finished","ongoing","under analysis"][t.session_status]))])]),n("div",{staticClass:"ev-date"},[e._v(e._s(e._f("moment")(t.session_date_created,"M/D/YYYY, hh:mma")))])])]):e._e()})],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Location"),t("span",{staticClass:"optional"},[this._v("(optional)")])])}]};var Fe=n("VU/8")(Re,Te,!1,function(e){n("oNpk")},"data-v-04c4e35a",null).exports,Ze=n("PJh5"),Pe=n.n(Ze),Ge={extends:T.b,mixins:[T.c.reactiveProp],props:["chartdata","options","diffType"],computed:{unit:function(){return this.diffType}},watch:{unit:function(e,t){e!==t&&this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:16,usePointStyle:!0}},tooltips:{bodyFontSize:14,mode:"index",intersect:!0},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"time",scaleLabel:{display:!0,label:"Time"},time:{unit:this.unit}}],yAxes:[{scaleLabel:{display:!0,label:"Ratings"}}]}})}},mounted:function(){console.log(this),this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:16,usePointStyle:!0}},tooltips:{bodyFontSize:14,mode:"index",intersect:!0},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"time",scaleLabel:{display:!0,label:"Time"},time:{unit:this.unit}}],yAxes:[{scaleLabel:{display:!0,label:"Ratings"}}]}})}},Ye=n("IC97"),Oe={name:"admin-sessions",props:["eventId","events"],components:{Loader:x,DonutChart:F,LineChart:Ge,Datepicker:Ye.a},mounted:function(){this.getFeedbackForTime(),this.filters.from=Pe()().subtract(1,"week").endOf("day").format("YYYY/MM/DD HH:mm:ss"),this.filters.to=Pe()().startOf("hour").format("YYYY/MM/DD HH:mm:ss")},data:function(){return{loading:!1,results:null,timeResults:[],count:0,ratings:[0,0,0,0],filters:{from:null,to:null},availableFilters:{},donutData:{},ratingLineData:{},overallLineData:{},fromDate:null,toDate:null,timeDiff:"Daily",diffType:"day"}},methods:{fromTimeSelected:function(e){this.filters.from=e.toDateString(),this.getFeedbackForTime(Pe()(this.filters.from),Pe()(this.filters.to)),console.log(e)},toTimeSelected:function(e){this.filters.to=e.toDateString(),this.getFeedbackForTime(Pe()(this.filters.from),Pe()(this.filters.to)),console.log(e)},getFeedbackForTime:function(e,t){var n=this;this.count=0,this.ratings=[0,0,0,0],this.loading=!0;var i=e||Pe()().subtract(1,"week").endOf("day"),s=t||Pe()().startOf("hour");m.getAdminEventFeedback(this.eventId,i.format("YYYY/MM/DD HH:mm:ss"),s.format("YYYY/MM/DD HH:mm:ss")).then(function(e){n.results=e.event,n.filters.to=Pe()(e.to).format("YYYY/MM/DD HH:mm:ss");var t="day",a=(s=Pe()(e.to)).diff(i,t);a<=2?(t="hour",n.timeDiff="Hourly",a=s.diff(i,t)):a<=60?(t="day",n.timeDiff="Daily",a=s.diff(i,t)):a<=366?(t="week",n.timeDiff="Weekly",a=s.diff(i,t)):(t="year",n.timeDiff="Annual",a=s.diff(i,t)),n.timeResults=[];for(var o=0;o<=a;o++)n.timeResults[o]={label:Pe()(s.toDate()).add(-o,t),overall:0,1:0,2:0,3:0,4:0};n.fromDate=Pe()(i.toDate()).format("D/M/YYYY, h:mm a"),n.toDate=Pe()(s.toDate()).format("D/M/YYYY, h:mm a"),n.diffType=t,n.loading=!1,n.results&&0!==n.results.length&&(console.log(n.results),n.availableFilters.sessions=[],n.availableFilters.extraFilters={filters:[],values:{}},n.results.forEach(function(e,t){if(n.availableFilters.sessions.indexOf(e.session_id)<0&&n.availableFilters.sessions.push(e.session_id),e.extra_data){var i=JSON.parse(e.extra_data);for(var s in i)console.log(s),void 0==n.availableFilters.extraFilters.values[s]&&(n.availableFilters.extraFilters.values[s]=[],n.availableFilters.extraFilters.filters.push(s)),n.availableFilters.extraFilters.values[s].push(i[s])}}),n.filterResults(s,t))})},filterResults:function(e,t){var n=this;this.results.forEach(function(i,s){var a=e.diff(Pe()(i.date_created),t);n.timeResults[a].overall+=1,n.timeResults[a][i.rating]+=1,n.count+=1,n.ratings[i.rating-1]+=1}),console.log(this.timeResults),this.fillDonut(),this.fillRatingLine()},fillDonut:function(){this.donutData={labels:["🙁","😐","🙂","😀"],type:"doughnut",datasets:[{data:this.ratings,backgroundColor:["#f44336","#FFC107","#8BC34A","#4caf50"]}]}},fillRatingLine:function(){var e=[[],[],[],[],[]];this.timeResults.forEach(function(t,n){e[0].push({x:t.label,y:t.overall}),e[1].push({x:t.label,y:t[1]}),e[2].push({x:t.label,y:t[2]}),e[3].push({x:t.label,y:t[3]}),e[4].push({x:t.label,y:t[4]})}),this.overallLineData={type:"line",datasets:[{label:"Overall Usage",fill:!1,data:e[0],lineTension:.2,backgroundColor:"#005EB8",borderColor:"#005EB8"}]},this.ratingLineData={type:"line",datasets:[{label:"🙁",fill:!1,data:e[1],lineTension:.2,backgroundColor:"#f44336",borderColor:"#f44336",pointStyle:"circle",pointRadius:5},{label:"😐",fill:!1,data:e[2],lineTension:.2,backgroundColor:"#FFC107",borderColor:"#FFC107",pointStyle:"rect",pointRadius:6},{label:"🙂",fill:!1,data:e[3],lineTension:.2,backgroundColor:"#8BC34A",borderColor:"#8BC34A",pointStyle:"rectRot",pointRadius:5},{label:"😀",fill:!1,data:e[4],lineTension:.2,backgroundColor:"#4caf50",borderColor:"#4caf50",pointStyle:"triangle",pointRadius:5}]}}}},He={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"event-info"}},[n("h3",{attrs:{id:"name"}},[e._v(e._s(e.events[0].event_name))]),n("div",{attrs:{id:"date-created"}},[e._v("Date created: "+e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))]),n("div",{attrs:{id:"question"}},[e._v(e._s(e.events[0].question))])]),n("div",{attrs:{id:"session"}},[n("h4",[e._v("Feedback Results")]),e.loading?n("div",[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"filters"}},[n("div",{attrs:{id:"filter"}},[n("datepicker",{attrs:{placeholder:"From"},on:{selected:e.fromTimeSelected},model:{value:e.filters.from,callback:function(t){e.$set(e.filters,"from",t)},expression:"filters.from"}})],1),n("div",{attrs:{id:"filter"}},[n("datepicker",{attrs:{placeholder:"To"},on:{selected:e.toTimeSelected},model:{value:e.filters.to,callback:function(t){e.$set(e.filters,"to",t)},expression:"filters.to"}})],1),n("div",{attrs:{id:"filter"}},[n("select",{attrs:{id:"session",name:"session"}},e._l(e.availableFilters.sessions,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}),0)]),n("div",{attrs:{id:"filter"}},[n("select",{attrs:{id:"extraFilters",name:"session"}},e._l(e.availableFilters.extraFilters.filters,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}),0)])]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Showing data from "+e._s(e.fromDate)+" to "+e._s(e.toDate))]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Number of participants: "+e._s(e.count))]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"chart-container"}},[n("div",{attrs:{id:"chart-title"}},[e._v("Overall Ratings")]),n("div",{attrs:{id:"donut"}},[e.results&&e.results.length>0?n("donut-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.donutData}}):e._e()],1)]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"chart-container"}},[n("div",{attrs:{id:"chart-title"}},[e._v(e._s(e.timeDiff)+" Ratings")]),e.results&&e.results.length>0?n("line-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.ratingLineData,diffType:e.diffType,height:300}}):e._e()],1):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"chart-container"}},[n("div",{attrs:{id:"chart-title"}},[e._v("Overall Usage")]),e.results&&e.results.length>0?n("line-chart",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{"chart-data":e.overallLineData,diffType:e.diffType,height:300}}):e._e()],1):e._e()])])},staticRenderFns:[]};var Je=n("VU/8")(Oe,He,!1,function(e){n("FXvd")},"data-v-32fbb16a",null).exports,Ue={name:"admin-media",props:["eventId","events"],components:{Loader:x,Datepicker:Ye.a},mounted:function(){this.getFeedbackForTime(),this.filters.from=Pe()().subtract(1,"week").endOf("day").format("YYYY/MM/DD HH:mm:ss"),this.filters.to=Pe()().startOf("hour").format("YYYY/MM/DD HH:mm:ss")},data:function(){return{loading:!1,results:null,mediaResults:[],count:0,ratings:[0,0,0,0],filters:{from:null,to:null},ratingImg:[X.a,K.a,ee.a,ne.a],ratingColor:["#f44336","#FFC107","#8BC34A","#4caf50"],availableFilters:{},donutData:{},fromDate:null,toDate:null,timeDiff:"Daily",diffType:"day"}},methods:{fromTimeSelected:function(e){this.filters.from=e.toDateString(),this.getFeedbackForTime(Pe()(this.filters.from),Pe()(this.filters.to)),console.log(e)},toTimeSelected:function(e){this.filters.to=e.toDateString(),this.getFeedbackForTime(Pe()(this.filters.from),Pe()(this.filters.to)),console.log(e)},getFeedbackForTime:function(e,t){var n=this;this.count=0,this.ratings=[0,0,0,0],this.loading=!0;var i=e||Pe()().subtract(1,"week").endOf("day"),s=t||Pe()().startOf("hour");m.getAdminEventFeedback(this.eventId,i.format("YYYY/MM/DD HH:mm:ss"),s.format("YYYY/MM/DD HH:mm:ss")).then(function(e){n.results=e.event,n.filters.to=Pe()(e.to).format("YYYY/MM/DD HH:mm:ss");var t="day",a=(s=Pe()(e.to)).diff(i,t);a<=2?(t="hour",n.timeDiff="Hourly",a=s.diff(i,t)):a<=60?(t="day",n.timeDiff="Daily",a=s.diff(i,t)):a<=366?(t="week",n.timeDiff="Weekly",a=s.diff(i,t)):(t="year",n.timeDiff="Annual",a=s.diff(i,t)),n.timeResults=[];for(var o=0;o<=a;o++)n.timeResults[o]={label:Pe()(s.toDate()).add(-o,t),overall:0,1:0,2:0,3:0,4:0};n.fromDate=Pe()(i.toDate()).format("D/M/YYYY, h:mm a"),n.toDate=Pe()(s.toDate()).format("D/M/YYYY, h:mm a"),n.diffType=t,n.loading=!1,n.results&&0!==n.results.length&&(console.log(n.results),n.availableFilters.sessions=[],n.availableFilters.extraFilters={filters:[],values:{}},n.results.forEach(function(e,t){if(n.availableFilters.sessions.indexOf(e.session_id)<0&&n.availableFilters.sessions.push(e.session_id),e.extra_data){var i=JSON.parse(e.extra_data);for(var s in i)console.log(s),void 0==n.availableFilters.extraFilters.values[s]&&(n.availableFilters.extraFilters.values[s]=[],n.availableFilters.extraFilters.filters.push(s)),n.availableFilters.extraFilters.values[s].push(i[s])}}),n.filterResults(s,t))})},calculateMediaDuration:function(e){return new C.a(function(t,n){e.onloadedmetadata=function(){console.log(e),e.currentTime=ke.a,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}})},filterResults:function(e,t){var n=this;this.mediaResults=this.results.filter(function(e){return e.file_location}),this.count=this.mediaResults.length,this.$nextTick(function(){var e=document.querySelectorAll(".media"),t=function(t){e[t]&&n.calculateMediaDuration(e[t]).then(function(){console.log(e[t].duration)})};for(var i in e)t(i)}),console.log(this.timeResults)}}},Ae={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"event-info"}},[n("h3",{attrs:{id:"name"}},[e._v(e._s(e.events[0].event_name))]),n("div",{attrs:{id:"date-created"}},[e._v("Date created: "+e._s(e._f("moment")(e.events[0].event_date_created,"M/D/YYYY, hh:mma")))]),n("div",{attrs:{id:"question"}},[e._v(e._s(e.events[0].question))])]),n("div",{attrs:{id:"session"}},[n("h4",[e._v("Media Feedback")]),e.loading?n("div",[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"filters"}},[n("div",{attrs:{id:"filter"}},[n("datepicker",{attrs:{placeholder:"From"},on:{selected:e.fromTimeSelected},model:{value:e.filters.from,callback:function(t){e.$set(e.filters,"from",t)},expression:"filters.from"}})],1),n("div",{attrs:{id:"filter"}},[n("datepicker",{attrs:{placeholder:"To"},on:{selected:e.toTimeSelected},model:{value:e.filters.to,callback:function(t){e.$set(e.filters,"to",t)},expression:"filters.to"}})],1),n("div",{attrs:{id:"filter"}},[n("select",{attrs:{id:"session",name:"session"}},e._l(e.availableFilters.sessions,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}),0)]),n("div",{attrs:{id:"filter"}},[n("select",{attrs:{id:"extraFilters",name:"session"}},e._l(e.availableFilters.extraFilters.filters,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}),0)])]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Showing data from "+e._s(e.fromDate)+" to "+e._s(e.toDate))]):e._e(),e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"description"},[e._v("Total results: "+e._s(e.count)+" results")]):e._e(),e._l(e.mediaResults,function(t){return e.results&&e.results.length>0?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"feedback"}},[n("div",{attrs:{id:"feedback-data"}},[n("div",{attrs:{id:"date"}},[e._v(e._s(e._f("moment")(t.date_created,"M/D/YYYY, hh:mma")))]),n("img",{style:{"background-color":e.ratingColor[t.rating-1]},attrs:{id:"rating",src:e.ratingImg[t.rating-1]}})]),2==t.extra_feedback_type?n("div",{attrs:{id:"feedback-media"}},[n("audio",{staticClass:"media",attrs:{controls:"controls"}},[n("source",{attrs:{src:t.file_location,type:"audio/webm"}})])]):e._e(),3==t.extra_feedback_type?n("div",{attrs:{id:"feedback-media"}},[n("video",{staticClass:"media",attrs:{controls:"controls"}},[n("source",{attrs:{src:t.file_location,type:"video/webm"}})])]):e._e()]):e._e()})],2)])},staticRenderFns:[]};var Qe={name:"eventDetails",props:["eventId"],components:{PlainTemplate:H,Loader:x,AdminSessions:Fe,AdminCharts:Je,AdminMedia:n("VU/8")(Ue,Ae,!1,function(e){n("r/6h")},"data-v-744abdce",null).exports},data:function(){return{rating:["🙁","😐","🙂","😀"],ratingImg:[X.a,K.a,ee.a,ne.a],ratingColor:["#f44336","#FFC107","#8BC34A","#4caf50"],events:null,loading:!1,selectedTab:1}},methods:{selectTab:function(e){this.selectedTab=e},calculateMediaDuration:function(e){return new C.a(function(t,n){e.onloadedmetadata=function(){console.log(e),e.currentTime=ke.a,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,e.currentTime=0,t(e.duration)}}})}},mounted:function(){var e=this;this.loading=!0,m.getAdminEventDetails(this.eventId).then(function(t){e.loading=!1,console.log(t),t&&0!==t.length?e.events=t:e.error=!0}),document.addEventListener("deviceready",r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0,console.log("ready");case 2:case"end":return t.stop()}},t,e)})),!1)}},Be={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PlainTemplate",{attrs:{title:"Event Details",back:"true"},scopedSlots:e._u([{key:"tabs",fn:function(){return[n("div",{staticClass:"tab",class:{selected:1==e.selectedTab},on:{click:function(t){return e.selectTab(1)}}},[e._v("Feedback")]),n("div",{staticClass:"tab",class:{selected:2==e.selectedTab},on:{click:function(t){return e.selectTab(2)}}},[e._v("Feedback Media")]),n("div",{staticClass:"tab",class:{selected:3==e.selectedTab},on:{click:function(t){return e.selectTab(3)}}},[e._v("Settings")])]},proxy:!0},{key:"content",fn:function(){return[n("div",[e.loading?n("div",{attrs:{id:"event"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),e.events&&!e.loading?n("div",{attrs:{id:"event"}},[1==e.selectedTab?n("AdminCharts",{attrs:{eventId:e.eventId,events:e.events}}):e._e(),2==e.selectedTab?n("AdminMedia",{attrs:{eventId:e.eventId,events:e.events}}):e._e(),3==e.selectedTab?n("AdminSessions",{model:{value:e.events,callback:function(t){e.events=t},expression:"events"}}):e._e()],1):e._e()])]},proxy:!0}])})},staticRenderFns:[]};var We=n("VU/8")(Qe,Be,!1,function(e){n("ExNR")},"data-v-30ce7d47",null).exports,Ve={name:"admin-add-event",components:{Loader:x,quillEditor:ze.quillEditor,PlainTemplate:H},mounted:function(){this.event={},this.editEvent(),this.addSession(),this.event.followup_label&&""!==this.event.followup_label||(this.event.followup_label=this.event.question)},data:function(){return{editing:!1,status:["Finished","Ongoing","Under Analysis"],cooldownVals:["As many time as they want","Hourly","Daily","Weekly","Monthly","Only once"],editedEvent:{},event:{},loading:!1,editingSession:!1,editedSession:{sessionId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}},thankyouEditorOptions:{theme:"bubble",placeholder:"Thank you message",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"]]}},descriptionEditorOptions:{theme:"bubble",placeholder:"Event description",modules:{toolbar:[[{size:["small",!1,"large"]}],["bold","italic"],["link"]]}}}},methods:{addSession:function(){this.editingSession=!0,this.editedSession={sessionId:null,eventId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}}},editEvent:function(){this.editedEvent={eventId:null,name:null,question:null,followupEnabled:!0,followupLabel:null,extraFields:null,expiryDate:null,showFeedback:!1,showResults:!0,status:1,cooldownPeriod:2,description:null,thanksText:null}},saveEvent:function(){var e=this;return r()(a.a.mark(function t(){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.editing=!1,e.loading=!0,n={event:e.editedEvent,session:e.editedSession},t.next=5,m.createEvent(n);case 5:i=t.sent,e.loading=!1,console.log(i),i.insertId&&e.$router.push({name:"admin-event-details",params:{eventId:i.insertId}});case 9:case"end":return t.stop()}},t,e)}))()},discardEdits:function(){this.editedEvent={eventId:null,name:null,question:null,followupEnabled:!0,followupLabel:null,extraFields:null,expiryDate:null,showFeedback:!1,showResults:!0,status:1,cooldownPeriod:2,description:null,thanksText:null},this.editedSession={sessionId:null,eventId:null,new:!0,name:null,status:1,privacy:!1,metadata:{}},this.$router.push({name:"admin-events"})}}},Xe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PlainTemplate",{attrs:{title:"Event Details",back:"true"},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",{attrs:{id:"settings"}},[e.loading?n("div",{attrs:{id:"event"}},[n("Loader",{attrs:{loading:e.loading}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{id:"event-settings"}},[n("div",{staticClass:"heading"},[n("h3",[e._v("Add Event")]),n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),n("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])])]),n("div",{staticClass:"section",attrs:{id:"general-settings"}},[n("div",{staticClass:"row"},[n("label",[e._v("Event Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.name,expression:"editedEvent.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Event Name",name:"name"},domProps:{value:e.editedEvent.name},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"name",t.target.value)}}})]),n("div",{staticClass:"row"},[n("label",[e._v("Event Status")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.status,expression:"editedEvent.status"}],staticClass:"event-input",attrs:{placeholder:"Event Status",name:"status"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedEvent,"status",t.target.multiple?n:n[0])}}},e._l(e.status,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0)]),n("div",{staticClass:"row"},[n("label",[e._v("Event Description")]),n("div",{staticClass:"quill"},[n("quill-editor",{ref:"descriptionQuillEditor",attrs:{options:e.descriptionEditorOptions},model:{value:e.editedEvent.description,callback:function(t){e.$set(e.editedEvent,"description",t)},expression:"editedEvent.description"}})],1)]),n("div",{staticClass:"section",attrs:{id:"feedback-settings"}},[n("h4",[e._v("Feedback")]),n("div",{staticClass:"row"},[n("label",[e._v("Main Question")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.question,expression:"editedEvent.question"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"main-question"},domProps:{value:e.editedEvent.question},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"question",t.target.value)}}})]),n("div",{staticClass:"row"},[n("label",[e._v("How often can a user give feedback?")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.cooldownPeriod,expression:"editedEvent.cooldownPeriod"}],staticClass:"event-input",attrs:{placeholder:"Cooldown",name:"cooldown"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedEvent,"cooldownPeriod",t.target.multiple?n:n[0])}}},e._l(e.cooldownVals,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0)])]),n("div",{staticClass:"section",attrs:{id:"media-settings"}},[n("h4",[e._v("Media Feedback")]),n("div",{staticClass:"row"},[n("label",[e._v("Media Feedback")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.followupEnabled,expression:"editedEvent.followupEnabled"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Follow-up",name:"followup-enabled"},domProps:{checked:Array.isArray(e.editedEvent.followupEnabled)?e._i(e.editedEvent.followupEnabled,null)>-1:e.editedEvent.followupEnabled},on:{change:function(t){var n=e.editedEvent.followupEnabled,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedEvent,"followupEnabled",n.concat([null])):a>-1&&e.$set(e.editedEvent,"followupEnabled",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedEvent,"followupEnabled",s)}}}),n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")])]),n("div",{staticClass:"row"},[n("label",{directives:[{name:"show",rawName:"v-show",value:e.editedEvent.followup_enabled,expression:"editedEvent.followup_enabled"}]},[e._v("Media Feedback Question")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.followupLabel,expression:"editedEvent.followupLabel"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Follow-up Question",name:"description",disabled:!e.editedEvent.followupEnabled},domProps:{value:e.editedEvent.followupLabel},on:{input:function(t){t.target.composing||e.$set(e.editedEvent,"followupLabel",t.target.value)}}})])]),n("div",{staticClass:"section",attrs:{id:"thankyou-settings"}},[n("h4",[e._v("Thank You Page")]),n("div",{staticClass:"row"},[n("label",[e._v("Display Results")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedEvent.showResults,expression:"editedEvent.showResults"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Show Results",name:"show-results"},domProps:{checked:Array.isArray(e.editedEvent.showResults)?e._i(e.editedEvent.showResults,null)>-1:e.editedEvent.showResults},on:{change:function(t){var n=e.editedEvent.showResults,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedEvent,"showResults",n.concat([null])):a>-1&&e.$set(e.editedEvent,"showResults",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedEvent,"showResults",s)}}}),n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Enabled")])]),n("div",{staticClass:"row"},[n("label",[e._v("Thank You Message")]),n("div",{staticClass:"quill"},[n("quill-editor",{ref:"myQuillEditor",attrs:{options:e.thankyouEditorOptions},model:{value:e.editedEvent.thanksText,callback:function(t){e.$set(e.editedEvent,"thanksText",t)},expression:"editedEvent.thanksText"}})],1)])]),n("div",{staticClass:"section",attrs:{id:"add-session"}},[n("h4",[e._v("First Session")]),n("div",{staticClass:"row"},[n("label",[e._v("Session Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.name,expression:"editedSession.name"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Main Question",name:"name"},domProps:{value:e.editedSession.name},on:{input:function(t){t.target.composing||e.$set(e.editedSession,"name",t.target.value)}}})]),n("div",{staticClass:"row"},[n("label",[e._v("Session Status")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.status,expression:"editedSession.status"}],staticClass:"event-input",attrs:{placeholder:"Session Status",name:"status"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editedSession,"status",t.target.multiple?n:n[0])}}},e._l(e.status,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}),0)]),n("div",{staticClass:"row"},[n("label",[e._v("Session Privacy")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.privacy,expression:"editedSession.privacy"}],staticClass:"event-input",attrs:{type:"checkbox",placeholder:"Session Privacy",name:"privacy"},domProps:{checked:Array.isArray(e.editedSession.privacy)?e._i(e.editedSession.privacy,null)>-1:e.editedSession.privacy},on:{change:function(t){var n=e.editedSession.privacy,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.editedSession,"privacy",n.concat([null])):a>-1&&e.$set(e.editedSession,"privacy",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editedSession,"privacy",s)}}}),n("label",{staticClass:"label-for",attrs:{for:"show-results"}},[e._v("Make Public")])]),n("div",{staticClass:"row"},[n("label",[e._v("Location"),n("span",{staticClass:"optional"},[e._v("(optional)")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editedSession.metadata.location,expression:"editedSession.metadata.location"}],staticClass:"event-input",attrs:{type:"text",placeholder:"Location",name:"location"},domProps:{value:e.editedSession.metadata.location},on:{input:function(t){t.target.composing||e.$set(e.editedSession.metadata,"location",t.target.value)}}})])]),n("div",{attrs:{id:"edit-event"}},[n("div",{attrs:{id:"save"},on:{click:e.saveEvent}},[e._v("Save")]),n("div",{attrs:{id:"discard"},on:{click:e.discardEdits}},[e._v("Discard")])])])])])]},proxy:!0}])})},staticRenderFns:[]};var qe,Ke=n("VU/8")(Ve,Xe,!1,function(e){n("fAbB")},"data-v-a222012e",null).exports,$e=this,et=(qe=r()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.matched.some(function(e){return e.meta.requiresAuth})){e.next=10;break}return e.next=3,nt.then(function(e){return e&&!e.isAnonymous||g.state.currentUser});case 3:if(!e.sent){e.next=7;break}return t.matched.some(function(e){return e.meta.admin})&&"admin"!==g.state.currentUser.userRole&&i("/home"),i(),e.abrupt("return");case 7:i("/"),e.next=11;break;case 10:i();case 11:case"end":return e.stop()}},e,this)})),function(e,t,n){return qe.apply(this,arguments)});i.a.use(j.a);var tt=new j.a({mode:"history",routes:[{path:"/",name:"login",component:R},{path:"/settings",name:"user-settings",component:ge,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/thankyou/:sessionId",name:"thankyou",component:A,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/event/:sessionId",name:"event",component:W,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/media-feedback/:sessionId/:feedbackId",name:"media-feedback",component:de,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/audio-feedback/:sessionId/:feedbackId",name:"audio-feedback",component:ue,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/home",name:"home",component:Ie,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/history",name:"feedback-history",component:ae,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/feedback/:feedbackId",name:"feedback",component:_e,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/event-details/:sessionId",name:"event-details",component:Me,props:!0,beforeEnter:et,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Ne,beforeEnter:et,meta:{requiresAuth:!0,admin:!0},children:[{path:"",name:"admin-events",component:Le,beforeEnter:et,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/event/:eventId",name:"admin-event-details",component:We,beforeEnter:et,props:!0,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/add-event/",name:"admin-add-event",component:Ke,beforeEnter:et,props:!0,meta:{requiresAuth:!0,admin:!0}}]}]});l.a.initializeApp({apiKey:"AIzaSyA6IVLE2kDHQfpzxuyY_XpYkcvNWJShcxE",authDomain:"thoughtcloud-v2.firebaseapp.com",databaseURL:"https://thoughtcloud-v2.firebaseio.com",projectId:"thoughtcloud-v2",storageBucket:"thoughtcloud-v2.appspot.com",messagingSenderId:"500807478207"});var nt=new C.a(function(e){l.a.auth().onAuthStateChanged(function(t){t?($e.loggedIn=!0,g.updateUser(t),g.updateRole(t.userRole)):(console.log("not logged in"),$e.loggedIn=!1,g.updateUser(null)),e(t)})});var it=tt,st=n("8AgW"),at=n.n(st),ot=n("C/JF"),rt=n("fhbW"),dt=n("1e6/");ot.c.add(rt.m,rt.j,rt.k,rt.c,rt.i,rt.h,rt.b,rt.g,rt.d,rt.f,rt.a,rt.l,rt.e),i.a.use(at.a),i.a.component("font-awesome-icon",dt.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:it,components:{App:S},template:"<App/>"})},PIE9:function(e,t){},RL5M:function(e,t){},Rmcz:function(e,t){},W1e9:function(e,t){},"X/lO":function(e,t){},"Y/7N":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA3MiA3MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzIgNzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO3N0cm9rZTojOEJDMzRBO3N0cm9rZS13aWR0aDo0O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDF7ZmlsbDojOEJDMzRBO30KCS5zdDJ7ZmlsbDpub25lO3N0cm9rZTojOEJDMzRBO3N0cm9rZS13aWR0aDo0O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGc+Cgk8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIzNiIgY3k9IjM2IiByPSIzMyIvPgoJPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjI3LjQiIGN5PSIyOC40IiByeD0iNCIgcnk9IjUuMSIvPgoJPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjQ1LjYiIGN5PSIyOC40IiByeD0iNCIgcnk9IjUuMSIvPgoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTIxLjksNDNjMCwwLDQuNiw3LjIsMTQuMSw3LjJjOS42LDAsMTUuMi03LjIsMTUuMi03LjIiLz4KPC9nPgo8L3N2Zz4K"},bSiT:function(e,t){},cDbI:function(e,t){},fAbB:function(e,t){},iANh:function(e,t){},iZfe:function(e,t){},j2Yi:function(e,t){},joED:function(e,t){},lAaB:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImVtb2ppIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNzIgNzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDcyIDcyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MXtmaWxsOiNGRkZGRkY7c3Ryb2tlOiM0Q0FGNTA7c3Ryb2tlLXdpZHRoOjQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0MntmaWxsOm5vbmU7c3Ryb2tlOiM0Q0FGNTA7c3Ryb2tlLXdpZHRoOjQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0M3tmaWxsOiM0Q0FGNTA7fQo8L3N0eWxlPgo8Zz4KCTxnIGlkPSJfeEQ4M0RfX3hERTAwXyI+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTYyLjcsMjgiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjIuMiwyOCIvPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMi4yLDI4Ii8+CgkJPGc+CgkJCTxjaXJjbGUgY2xhc3M9InN0MSIgY3g9IjM2IiBjeT0iMzYiIHI9IjMzIi8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yMS45LDMwLjljMCwwLDAtNS42LDUuMy01LjZzNS4zLDUuNiw1LjMsNS42Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0zOS45LDMwLjljMCwwLDAtNS42LDUuMy01LjZzNS4zLDUuNiw1LjMsNS42Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0zNiwzOC41SDIxLjhjMCwwLTEuMSwwLTEuMSwxLjFTMjIuNCw1Ni4xLDM2LDU2LjFzMTUuMy0xNS40LDE1LjMtMTYuNXMtMS4xLTEuMS0xLjEtMS4xSDM2eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},ll1s:function(e,t){},mGw1:function(e,t){},mqfy:function(e,t){},nDdm:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA3MiA3MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzIgNzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZGlzcGxheTpub25lO30KCS5zdDF7ZGlzcGxheTppbmxpbmU7fQoJLnN0MntmaWxsOiNGREMxMDg7fQoJLnN0M3tmaWxsOiNGRkZGRkY7fQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojRkZDMTA3O3N0cm9rZS13aWR0aDo1O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojRkZDMTA3O3N0cm9rZS13aWR0aDo1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDd7ZmlsbDojRkZGRkZGO3N0cm9rZTojRkZDMTA3O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDh7ZmlsbDojRkZDMTA3O30KCS5zdDl7ZmlsbDpub25lO3N0cm9rZTojRkZDMTA3O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGcgaWQ9ImVtb2ppIiBjbGFzcz0ic3QwIj4KCTxnIGNsYXNzPSJzdDEiPgoJCTxnPgoJCQk8cmVjdCBjbGFzcz0ic3QyIiB3aWR0aD0iNzIiIGhlaWdodD0iNzIiLz4KCQk8L2c+CgkJPGcgaWQ9Il94RDgzRF9feERFMTBfX3hGRTBGXyI+CgkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yNy40LDI5LjVjMCwyLjQtMS45LDQuMy00LjMsNC4zcy00LjMtMS45LTQuMy00LjNzMS45LTQuMyw0LjMtNC4zQzI1LjUsMjUuMSwyNy40LDI3LjIsMjcuNCwyOS41Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01My4zLDI5LjVjMCwyLjQtMS45LDQuMy00LjMsNC4zYy0yLjQsMC00LjMtMS45LTQuMy00LjNzMS45LTQuMyw0LjMtNC4zQzUxLjQsMjUuMSw1My4zLDI3LjIsNTMuMywyOS41Ii8+CgkJCTxsaW5lIGNsYXNzPSJzdDQiIHgxPSIyMi42IiB5MT0iNDYuOSIgeDI9IjQ4LjUiIHkyPSI0Ni45Ii8+CgkJPC9nPgoJPC9nPgoJPGcgaWQ9IkE1NDRhQi50aWYiIGNsYXNzPSJzdDEiPgoJCQoJCQk8aW1hZ2Ugc3R5bGU9Im92ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIHdpZHRoPSI0NDAiIGhlaWdodD0iMzkzIiBpZD0iTGF5ZXJfMF8xXyIgeGxpbms6aHJlZj0iRTE2RUQyRTgxMDExODgyOC5wbmciICB0cmFuc2Zvcm09Im1hdHJpeCgwLjQwMzEgMCAwIDAuNDAzMSAxMS42NjggMzYuMjg5OCkiPgoJCTwvaW1hZ2U+Cgk8L2c+CjwvZz4KPGcgY2xhc3M9InN0MCI+Cgk8ZyBjbGFzcz0ic3QxIj4KCQk8Y2lyY2xlIGNsYXNzPSJzdDUiIGN4PSI2NC41IiBjeT0iMS45IiByPSIzOS4zIi8+CgkJPGNpcmNsZSBjeD0iNTQuMyIgY3k9Ii03LjIiIHI9IjYuMSIvPgoJCTxjaXJjbGUgY3g9Ijc1LjkiIGN5PSItNy4yIiByPSI2LjEiLz4KCQk8bGluZSBjbGFzcz0ic3Q2IiB4MT0iNTEuNCIgeTE9IjE1LjUiIHgyPSI3OC45IiB5Mj0iMTUuNSIvPgoJPC9nPgo8L2c+CjxnIGlkPSJMYXllcl8zIj4KCTxnPgoJCTxjaXJjbGUgY2xhc3M9InN0NyIgY3g9IjM2IiBjeT0iMzYiIHI9IjMzIi8+CgkJPGNpcmNsZSBjbGFzcz0ic3Q4IiBjeD0iMjcuNCIgY3k9IjI4LjQiIHI9IjUuMSIvPgoJCTxjaXJjbGUgY2xhc3M9InN0OCIgY3g9IjQ1LjYiIGN5PSIyOC40IiByPSI1LjEiLz4KCQk8bGluZSBjbGFzcz0ic3Q5IiB4MT0iMjUiIHkxPSI0Ny40IiB4Mj0iNDguMSIgeTI9IjQ3LjQiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},nS5Z:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA3MiA3MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzIgNzI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZGlzcGxheTpub25lO30KCS5zdDF7ZGlzcGxheTppbmxpbmU7fQoJLnN0MntmaWxsOiNGREMxMDg7fQoJLnN0M3tmaWxsOiNGRkZGRkY7fQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo1O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDd7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDh7ZmlsbDojODg5OUE5O30KCS5zdDl7ZmlsbDpub25lO3N0cm9rZTojODg5OUE5O3N0cm9rZS13aWR0aDo0O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KPC9zdHlsZT4KPGcgaWQ9ImVtb2ppIiBjbGFzcz0ic3QwIj4KCTxnIGNsYXNzPSJzdDEiPgoJCTxnPgoJCQk8cmVjdCBjbGFzcz0ic3QyIiB3aWR0aD0iNzIiIGhlaWdodD0iNzIiLz4KCQk8L2c+CgkJPGcgaWQ9Il94RDgzRF9feERFMTBfX3hGRTBGXyI+CgkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yNy40LDI5LjVjMCwyLjQtMS45LDQuMy00LjMsNC4zcy00LjMtMS45LTQuMy00LjNzMS45LTQuMyw0LjMtNC4zQzI1LjUsMjUuMSwyNy40LDI3LjIsMjcuNCwyOS41Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01My4zLDI5LjVjMCwyLjQtMS45LDQuMy00LjMsNC4zYy0yLjQsMC00LjMtMS45LTQuMy00LjNzMS45LTQuMyw0LjMtNC4zQzUxLjQsMjUuMSw1My4zLDI3LjIsNTMuMywyOS41Ii8+CgkJCTxsaW5lIGNsYXNzPSJzdDQiIHgxPSIyMi42IiB5MT0iNDYuOSIgeDI9IjQ4LjUiIHkyPSI0Ni45Ii8+CgkJPC9nPgoJPC9nPgoJPGcgaWQ9IkE1NDRhQi50aWYiIGNsYXNzPSJzdDEiPgoJCQoJCQk8aW1hZ2Ugc3R5bGU9Im92ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIHdpZHRoPSI0NDAiIGhlaWdodD0iMzkzIiBpZD0iTGF5ZXJfMF8xXyIgeGxpbms6aHJlZj0iRTE2RUQyRTgxMDExODgyOC5wbmciICB0cmFuc2Zvcm09Im1hdHJpeCgwLjQwMzEgMCAwIDAuNDAzMSAxMS42NjggMzYuMjg5OCkiPgoJCTwvaW1hZ2U+Cgk8L2c+CjwvZz4KPGcgY2xhc3M9InN0MCI+Cgk8ZyBjbGFzcz0ic3QxIj4KCQk8Y2lyY2xlIGNsYXNzPSJzdDUiIGN4PSI2NC41IiBjeT0iMS45IiByPSIzOS4zIi8+CgkJPGNpcmNsZSBjeD0iNTQuMyIgY3k9Ii03LjIiIHI9IjYuMSIvPgoJCTxjaXJjbGUgY3g9Ijc1LjkiIGN5PSItNy4yIiByPSI2LjEiLz4KCQk8bGluZSBjbGFzcz0ic3Q2IiB4MT0iNTEuNCIgeTE9IjE1LjUiIHgyPSI3OC45IiB5Mj0iMTUuNSIvPgoJPC9nPgo8L2c+CjxnIGlkPSJMYXllcl8zIj4KCTxnPgoJCTxjaXJjbGUgY2xhc3M9InN0NyIgY3g9IjM2IiBjeT0iMzYiIHI9IjMzIi8+CgkJPGNpcmNsZSBjbGFzcz0ic3Q4IiBjeD0iMjcuNCIgY3k9IjI4LjQiIHI9IjUuMSIvPgoJCTxjaXJjbGUgY2xhc3M9InN0OCIgY3g9IjQ1LjYiIGN5PSIyOC40IiByPSI1LjEiLz4KCQk8bGluZSBjbGFzcz0ic3Q5IiB4MT0iMjUiIHkxPSI0Ny40IiB4Mj0iNDguMSIgeTI9IjQ3LjQiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},nWdI:function(e,t){},nbFP:function(e,t){},oNpk:function(e,t){},oUA3:function(e,t){},"r/6h":function(e,t){},t0ra:function(e,t){},ui3n:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImVtb2ppIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNzIgNzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDcyIDcyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjtzdHJva2U6I0Y0NDMzNjtzdHJva2Utd2lkdGg6NDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qxe2ZpbGw6I0Y0NDMzNjt9Cgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6I0Y0NDMzNjtzdHJva2Utd2lkdGg6NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+CjxnPgoJPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMzYuNyIgY3k9IjM2IiByPSIzMyIvPgoJPGc+CgkJPGc+CgkJCTxjaXJjbGUgY2xhc3M9InN0MSIgY3g9IjI3LjUiIGN5PSIyOC40IiByPSI1LjEiLz4KCQkJPGNpcmNsZSBjbGFzcz0ic3QxIiBjeD0iNDUuNyIgY3k9IjI4LjQiIHI9IjUuMSIvPgoJCTwvZz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMjYuMyw0OS4zYzAsMCw0LjEtMy4yLDEwLjEtMy4yczEwLjQsMy4yLDEwLjQsMy4yIi8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg=="},uslO:function(e,t,n){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(e){return n(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="uslO"},wLrT:function(e,t){}},["NHnr"]);